(function(){"use strict";var e={9436:function(e,t,i){var a=i(9242),s=i(3396),o=i(7718),l=i(3140);function r(e,t,i,a,r,n){const d=(0,s.up)("NavBar"),c=(0,s.up)("router-view"),m=(0,s.up)("Footer");return(0,s.wg)(),(0,s.j4)(o.q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(l.O,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d),(0,s.Wm)(c),(0,s.Wm)(m)])),_:1})])),_:1})}var n=i(7139),d=i(870),c=i(4075),m=i(1666);const u=e=>((0,s.dD)("data-v-42f8160e"),e=e(),(0,s.Cn)(),e),h=u((()=>(0,s._)("strong",null,"GameDash",-1)));function g(e,t,i,a,o,l){return(0,s.wg)(),(0,s.j4)(m.c,{class:"text-center d-flex flex-column footer",color:"secondary"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.links,(e=>((0,s.wg)(),(0,s.j4)(d.T,{key:e,class:"mx-4",icon:e.icon,target:"_blank",href:e.web,variant:"text"},null,8,["icon","href"])))),128))]),(0,s.Wm)(c.J),(0,s._)("div",null,[(0,s.Uk)((0,n.zw)((new Date).getFullYear())+" — ",1),h])])),_:1})}var p={name:"FooterComp",data:()=>({links:[{icon:"mdi-email-edit ",web:"mailto:arnaud.cossu@gmail.com?subject=Message GameDash"},{icon:"mdi-github",web:"https://github.com/ArnaudCs"},{icon:"mdi-linkedin",web:"https://www.linkedin.com/in/arnaud-c-65357215a/"},{icon:"mdi-web",web:"https://arnaudcs.github.io/"}]})},f=i(89);const w=(0,f.Z)(p,[["render",g],["__scopeId","data-v-42f8160e"]]);var v=w,y=i.p+"img/logo.ee8b40a4.png",k=i(8106),_=i(652),b=i(9234),C=i(3289),I=i(1285),x=i(2329),D=i(9457),W=i(2127),A=i(4193),P=i(9657),U=i(5030),V=i(678);const T={class:"closeBtn d-flex align-center justify-center"},F={key:3,id:"container",style:{display:"flex","justify-content":"flex-end"}};function S(e,t,i,o,l,r){const c=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(P.V,{color:"secondary",modelValue:l.drawer,"onUpdate:modelValue":t[3]||(t[3]=e=>l.drawer=e),temporary:"",class:"drawer",style:{width:"100%",opacity:"0.95","padding-top":"15vh"}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.menus,((e,i)=>((0,s.wg)(),(0,s.j4)(x.i,{class:"drawer",nav:"",key:i},{default:(0,s.w5)((()=>[(0,s.Wm)(D.l,{onClick:t[1]||(t[1]=e=>l.drawer=null),href:e.link},{default:(0,s.w5)((()=>[(0,s.Wm)(W.V,{class:"mobileLinks",onClick:t[0]||(t[0]=e=>l.drawer=null)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.title),1)])),_:2},1024)])),_:2},1032,["href"])])),_:2},1024)))),128)),(0,s._)("div",T,[(0,s.Wm)(d.T,{variant:"text",ripple:!1,onClick:t[2]||(t[2]=e=>l.drawer=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,{size:"x-large",icon:"mdi-close-outline",style:{color:"white"}})])),_:1})])])),_:1},8,["modelValue"]),(0,s.Wm)(k.L,{app:"",elevation:"0",color:"secondary","elevate-on-scroll":"",class:"appBar"},{default:(0,s.w5)((()=>[l.windowWidth>350?((0,s.wg)(),(0,s.j4)(U.q,{key:0,class:"logoNav"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{to:"/",class:"router-link logo",style:{"text-decoration":"none",color:"white"}},{default:(0,s.w5)((()=>[(0,s.Uk)("GameDash")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(b.C),l.windowWidth>945?((0,s.wg)(),(0,s.j4)(x.i,{key:1,class:"d-flex align-center my-list",style:{"background-color":"secondary"}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.menus,((e,t)=>((0,s.wg)(),(0,s.j4)(D.l,{link:"",key:t,href:e.link},{default:(0,s.w5)((()=>[(0,s.Wm)(W.V,{class:"menus"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.title),1)])),_:2},1024)])),_:2},1032,["href"])))),128)),(0,s.Wm)(D.l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{to:"/profile"},{default:(0,s.w5)((()=>[(0,s.Wm)(_.V,{rounded:"0"},{default:(0,s.w5)((()=>[(0,s.Wm)(I.f,{src:y})])),_:1}),(0,s.Wm)(V.N,{activator:"parent",location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)("Profil")])),_:1})])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),l.windowWidth<=960?((0,s.wg)(),(0,s.j4)(A.T,{key:2,right:""},{activator:(0,s.w5)((({on:e})=>[(0,s.Wm)(d.T,(0,s.dG)({color:"white"},e,{onClick:t[4]||(t[4]=(0,a.iM)((e=>l.drawer=!l.drawer),["stop"]))}),{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-menu")])),_:1})])),_:2},1040)])),default:(0,s.w5)((()=>[(0,s.Wm)(x.i,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.menus,((e,t)=>((0,s.wg)(),(0,s.j4)(D.l,{link:"",key:t,href:e.link},{default:(0,s.w5)((()=>[(0,s.Wm)(W.V,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.title),1)])),_:2},1024)])),_:2},1032,["href"])))),128))])),_:1})])),_:1})):(0,s.kq)("",!0),l.windowWidth<=945?((0,s.wg)(),(0,s.iD)("div",F,[(0,s.Wm)(D.l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{to:"/profile"},{default:(0,s.w5)((()=>[(0,s.Wm)(_.V,{rounded:"0"},{default:(0,s.w5)((()=>[(0,s.Wm)(I.f,{src:y})])),_:1}),(0,s.Wm)(V.N,{activator:"parent",location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)("Profil")])),_:1})])),_:1})])),_:1})])):(0,s.kq)("",!0)])),_:1})],64)}var E=i(7041),N={setup(){const e=(0,E.Fg)();return{theme:e,toggleTheme:()=>e.global.name.value=e.global.current.value.dark?"light":"dark"}},data(){return{drawer:null,windowWidth:0,isConnected:!1,ex11:"enable",menus:[{title:"Consoles",link:"/dashboard-items",icon:"mdi-view-dashboard"},{title:"Games",link:"/dashboard-games",icon:"mdi-view-dashboard"},{title:"Accesories",link:"/dashboard-accessories",icon:"mdi-view-dashboard"}]}},mounted(){window.addEventListener("resize",this.getWindowWidth),this.getWindowWidth()},beforeUnmount(){window.removeEventListener("resize",this.getWindowWidth)},methods:{getWindowWidth(){this.windowWidth=window.innerWidth}}};const L=(0,f.Z)(N,[["render",S],["__scopeId","data-v-60effd59"]]);var B=L,M={name:"App",components:{Footer:v,NavBar:B},data:()=>({})};const j=(0,f.Z)(M,[["render",r]]);var G=j,O=(i(9773),i(8727)),z=(0,O.Rd)({theme:{defaultTheme:"dark",themes:{light:{colors:{secondary:"#f5f5f5",hamburger:"#000000",button:"#ffffff",primary:"#ffffff",btnText:"#ffffff",buttonDownload:"#1E3851",ghostPurple:"#8154AF",nesDown:"#5C5A5A",nesUpper:"#D2CFCB",box:"#353D46"}},dark:{colors:{primary:"#181E26",button:"#242C36",secondary:"#242C36",background:"#181E26",hamburger:"#ffffff",buttonDownload:"#242C36",ghostPurple:"#8154AF",nesDown:"#5C5A5A",nesUpper:"#D2CFCB",box:"#353D46"}}}}});async function q(){const e=await i.e(461).then(i.t.bind(i,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var R=i.p+"img/mario.427372bd.png",$=i(11),Y=i(6572),J=i(1888),Z=i(6824),H=i(8521);const Q=e=>((0,s.dD)("data-v-ef21dadc"),e=e(),(0,s.Cn)(),e),K={class:"main"},X={class:"actionBar"},ee={class:"lastAddedDisplay"},te=Q((()=>(0,s._)("p",{class:"lastAddedTitle"},"Last Added Items",-1))),ie={class:"lastAddedCardContainer"},ae={key:1,class:"noLastItem"},se=Q((()=>(0,s._)("p",null,"Your last added items will be displayed here",-1))),oe=[se],le={class:"addItemDisplay"},re=Q((()=>(0,s._)("p",{class:"addItemTitle"},"Add an Item",-1))),ne={class:"addItemContainer"},de=Q((()=>(0,s._)("p",{class:"addItemTitle"},"Add an Item to your collection to keep track",-1))),ce=Q((()=>(0,s._)("p",{class:"titleCardItem"},"Add a console, a game or an accessory",-1)));function me(e,t,i,a,o,l){const r=(0,s.up)("loading-element");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),(0,s._)("div",K,[(0,s._)("div",X,[(0,s._)("h2",null,"Hello "+(0,n.zw)(o.nickName),1),o.state.isSignedIn?((0,s.wg)(),(0,s.j4)(d.T,{key:0,onClick:l.handleSignout,color:"ghostPurple",icon:"mdi-power"},null,8,["onClick"])):(0,s.kq)("",!0)]),(0,s._)("div",ee,[te,(0,s._)("div",ie,[this.lastAddedItems.length>0?((0,s.wg)(),(0,s.j4)(Z.o,{key:0,class:"lastAddedColumn"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.lastAddedItems.slice(0,3),(e=>((0,s.wg)(),(0,s.j4)(H.D,{key:e.id,cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{class:"lastAddedCard",elevation:"8",color:"primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(I.f,{class:"ItemsImages",height:"200",src:e.photoURL[0],cover:""},null,8,["src"]),(0,s.Wm)(Y.E,null,{default:(0,s.w5)((()=>["Console"===e.Type?((0,s.wg)(),(0,s.j4)(C.t,{key:0,color:"red",icon:"mdi-nintendo-game-boy",class:"mr-1"})):(0,s.kq)("",!0),"Accessorie"===e.Type?((0,s.wg)(),(0,s.j4)(C.t,{key:1,color:"grey",icon:"mdi-video-input-scart",class:"mr-1"})):(0,s.kq)("",!0),"Game"===e.Type?((0,s.wg)(),(0,s.j4)(C.t,{key:2,color:"yellow",icon:"mdi-pac-man",class:"mr-1"})):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,n.zw)(e.Name),1)])),_:2},1024),(0,s.Wm)(J.Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c.J,{class:"mb-3"}),(0,s._)("p",null,"Brand : "+(0,n.zw)(e.Brand),1),(0,s._)("p",null,"Model : "+(0,n.zw)(e.Model),1),(0,s._)("p",null,"Console : "+(0,n.zw)(e.Console),1),(0,s._)("p",null,"With Box : "+(0,n.zw)(e.OriginalBox?"Yes":"No"),1),(0,s._)("p",null,"Condition : "+(0,n.zw)(e.State),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):((0,s.wg)(),(0,s.iD)("div",ae,oe))])]),(0,s._)("div",le,[re,(0,s._)("div",ne,[(0,s.Wm)(Z.o,{class:"addItemRow"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",sm:"4",class:"coverColumn"},{default:(0,s.w5)((()=>[(0,s.Wm)(I.f,{src:R,class:"addItemCover"})])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"8"},{default:(0,s.w5)((()=>[de,(0,s.Wm)($._,{class:"lastAddedCard mt-5"},{default:(0,s.w5)((()=>[ce,(0,s.Wm)(Z.o,{class:"addButtons"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",sm:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{color:"ghostPurple",class:"btnCard",to:"/additems"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y.E,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,{icon:"mdi-nintendo-game-boy",class:"mr-1"}),(0,s.Uk)("Add a console")])),_:1})])),_:1})])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{color:"info",class:"btnCard",to:"/addgames"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y.E,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,{icon:"mdi-pac-man",class:"mr-1"}),(0,s.Uk)("Add a game")])),_:1})])),_:1})])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{color:"grey",class:"btnCard",to:"/addaccessories"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y.E,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,{icon:"mdi-video-input-scart",class:"mr-1"}),(0,s.Uk)("Add an accessory")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])])],64)}i(7658);const ue={class:"loader"};function he(e,t,i,a,o,l){const r=(0,s.up)("Vue3Lottie");return(0,s.wg)(),(0,s.iD)("div",ue,[(0,s.Wm)(r,{animationData:o.animation,class:"animationContainer"},null,8,["animationData"])])}var ge=i(3735),pe=JSON.parse('{"v":"5.8.0","fr":60,"ip":0,"op":121,"w":300,"h":300,"nm":"Comp 1","ddd":0,"assets":[{"id":"comp_0","nm":"pac man","fr":60,"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[149.864,145.411,0],"to":[0,1.667,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":60,"s":[149.864,155.411,0],"to":[0,0,0],"ti":[0,1.667,0]},{"t":120,"s":[149.864,145.411,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[64,64,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"s","pt":{"a":1,"k":[{"i":{"x":0.083,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[75.692,0.108],[0.011,-0.162],[75.698,0.111]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.949,"y":0},"t":15,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[56.465,-40.689],[0.011,-0.162],[55.933,41.46]],"c":true}]},{"i":{"x":0.083,"y":1},"o":{"x":0.333,"y":0},"t":30,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[75.692,0.108],[0.011,-0.162],[75.698,0.111]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.949,"y":0},"t":45,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[56.465,-40.689],[0.011,-0.162],[55.933,41.46]],"c":true}]},{"i":{"x":0.083,"y":1},"o":{"x":0.333,"y":0},"t":60,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[75.692,0.108],[0.011,-0.162],[75.698,0.111]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.949,"y":0},"t":75,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[56.465,-40.689],[0.011,-0.162],[55.933,41.46]],"c":true}]},{"i":{"x":0.083,"y":1},"o":{"x":0.333,"y":0},"t":90,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[75.692,0.108],[0.011,-0.162],[75.698,0.111]],"c":true}]},{"i":{"x":0.667,"y":1},"o":{"x":0.949,"y":0},"t":105,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[56.465,-40.689],[0.011,-0.162],[55.933,41.46]],"c":true}]},{"t":120,"s":[{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[75.692,0.108],[0.011,-0.162],[75.698,0.111]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-27.614,0],[0,-27.614],[27.614,0],[0,27.614]],"o":[[27.614,0],[0,27.614],[-27.614,0],[0,-27.614]],"v":[[0,-50],[50,0],[0,50],[-50,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.768627510819,0.250980392157,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false}],"ip":0,"op":121,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":3,"nm":"Null 1","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[149.864,145.411,0],"to":[0,1.667,0],"ti":[0,0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":60,"s":[149.864,155.411,0],"to":[0,0,0],"ti":[0,1.667,0]},{"t":120,"s":[149.864,145.411,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":121,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"food 6","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":-32,"s":[0]},{"t":-18,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":-32,"s":[126.817,0.578,0],"to":[-20.167,0,0],"ti":[20.167,0,0]},{"t":28,"s":[5.817,0.578,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.69],[4.69,0],[0,4.69],[-4.69,0]],"o":[[0,4.69],[-4.69,0],[0,-4.69],[4.69,0]],"v":[[8.492,0],[0,8.492],[-8.492,0],[0,-8.492]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.78823530674,0.78823530674,0.78823530674,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":28,"st":-32,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"food 5","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":29,"s":[0]},{"t":43,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":29,"s":[126.817,0.578,0],"to":[-20.167,0,0],"ti":[20.167,0,0]},{"t":89,"s":[5.817,0.578,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.69],[4.69,0],[0,4.69],[-4.69,0]],"o":[[0,4.69],[-4.69,0],[0,-4.69],[4.69,0]],"v":[[8.492,0],[0,8.492],[-8.492,0],[0,-8.492]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.78823530674,0.78823530674,0.78823530674,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":29,"op":89,"st":29,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"food 4","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":59,"s":[0]},{"t":73,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":59,"s":[126.817,0.578,0],"to":[-20.167,0,0],"ti":[20.167,0,0]},{"t":119,"s":[5.817,0.578,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.69],[4.69,0],[0,4.69],[-4.69,0]],"o":[[0,4.69],[-4.69,0],[0,-4.69],[4.69,0]],"v":[[8.492,0],[0,8.492],[-8.492,0],[0,-8.492]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.78823530674,0.78823530674,0.78823530674,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":59,"op":119,"st":59,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"food 3","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":88,"s":[0]},{"t":102,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":88,"s":[126.817,0.578,0],"to":[-20.167,0,0],"ti":[20.167,0,0]},{"t":148,"s":[5.817,0.578,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.69],[4.69,0],[0,4.69],[-4.69,0]],"o":[[0,4.69],[-4.69,0],[0,-4.69],[4.69,0]],"v":[[8.492,0],[0,8.492],[-8.492,0],[0,-8.492]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.78823530674,0.78823530674,0.78823530674,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":88,"op":121,"st":88,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"food 2","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":123,"s":[0]},{"t":137,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":123,"s":[126.817,0.578,0],"to":[-20.167,0,0],"ti":[20.167,0,0]},{"t":183,"s":[5.817,0.578,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.69],[4.69,0],[0,4.69],[-4.69,0]],"o":[[0,4.69],[-4.69,0],[0,-4.69],[4.69,0]],"v":[[8.492,0],[0,8.492],[-8.492,0],[0,-8.492]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.78823530674,0.78823530674,0.78823530674,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":123,"op":123.606060606061,"st":123,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"food","parent":2,"sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":14,"s":[100]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[126.817,0.578,0],"to":[-20.167,0,0],"ti":[20.167,0,0]},{"t":60,"s":[5.817,0.578,0]}],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-4.69],[4.69,0],[0,4.69],[-4.69,0]],"o":[[0,4.69],[-4.69,0],[0,-4.69],[4.69,0]],"v":[[8.492,0],[0,8.492],[-8.492,0],[0,-8.492]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.78823530674,0.78823530674,0.78823530674,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":60,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"pac man","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[150,150,0],"ix":2,"l":2},"a":{"a":0,"k":[150,150,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"w":300,"h":300,"ip":0,"op":121,"st":0,"bm":0}],"markers":[]}'),fe={name:"LoadingElement",components:{Vue3Lottie:ge.E},data(){return{animation:pe}}};const we=(0,f.Z)(fe,[["render",he],["__scopeId","data-v-7507b304"]]);var ve=we,ye=i(4870),ke=i(1588),_e=i(4287);let be;const Ce=(0,ye.qj)({isSignedIn:!1,userMail:""});var Ie={name:"HelloWorld",components:{LoadingElement:ve},data(){return{state:Ce,nickName:"",email:"",userId:"",isLoading:!0,lastAddedItems:[]}},mounted(){this.fetchUserData()},methods:{handleSignout(){(0,ke.w7)(be).then((()=>{this.$router.push("/login")})).catch((e=>{console.error(e)}))},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){const e=t.uid,i=(0,_e.ad)(),a=(0,_e.hJ)(i,"User"),s=(0,_e.hJ)(i,`${e}_Items`),o=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("userId","==",e)));o.forEach((e=>{const t=e.data();this.nickName=t.userName}));const l=await(0,_e.PL)((0,_e.IO)(s,(0,_e.ar)("UserId","==",e)));l.forEach((e=>{this.lastAddedItems.push({id:e.id,...e.data()})})),this.isLoading=!1}else console.error("No user connected")}},setup(){(0,s.bv)((()=>{be=(0,ke.v0)(),(0,ke.Aj)(be,(e=>{Ce.isSignedIn=!!e,Ce.userEmail=e?e.email:""}))}))}};const xe=(0,f.Z)(Ie,[["render",me],["__scopeId","data-v-ef21dadc"]]);var De=xe,We=i.p+"img/loginCover.37e98660.jpg",Ae=i(1334),Pe=i(3601),Ue=i(4162),Ve=i(3444),Te=i(165),Fe=i(7471);const Se=e=>((0,s.dD)("data-v-6a447630"),e=e(),(0,s.Cn)(),e),Ee={class:"main"},Ne={class:"forgottenContainer"},Le={class:"inputForm"},Be=Se((()=>(0,s._)("p",{style:{"text-align":"center"}},"Entrez votre adresse mail",-1)));function Me(e,t,i,o,l,r){return(0,s.wg)(),(0,s.iD)("div",Ee,[(0,s.Wm)($._,{class:"mx-auto loginCard mt-5",elevation:"8",color:"secondary"},{default:(0,s.w5)((()=>[(0,s._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"]))},[(0,s.Wm)(I.f,{class:"align-center loginCover text-white align-top",height:"200",cover:"",src:We},{default:(0,s.w5)((()=>[(0,s.Wm)(Y.E,{class:"LoginTitle"},{default:(0,s.w5)((()=>[(0,s.Uk)("Login")])),_:1})])),_:1}),(0,s.Wm)(J.Z,{class:"pt-7 pb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue.tj,{class:"mx-auto inputForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{clearable:"",label:"Email address",placeholder:"johndoe@gmail.com",type:"email",modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(Ue.tj,{class:"mx-auto inputForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{label:"Password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password","onClick:append":t[1]||(t[1]=t=>e.show1=!e.show1),clearable:"",modelValue:e.password,"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),hint:"Enter your password to access this website"},null,8,["append-icon","rules","type","modelValue"])])),_:1}),(0,s._)("div",Ne,[(0,s._)("div",Le,[(0,s.Wm)(H.D,{cols:"auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pe.B,{transition:"dialog-top-transition",class:"forgottenDialog"},{activator:(0,s.w5)((({props:e})=>[(0,s.Wm)(d.T,(0,s.dG)({variant:"plain",ripple:!1,size:"small"},e),{default:(0,s.w5)((()=>[(0,s.Uk)("Forgotten Password")])),_:2},1040)])),default:(0,s.w5)((({isActive:i})=>[(0,s.Wm)($._,null,{default:(0,s.w5)((()=>[(0,s._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"]))},[(0,s.Wm)(Fe.i,{color:"fayatBlue",class:"text-center",title:"Réinitialisation du mot de passe"}),(0,s.Wm)(J.Z,null,{default:(0,s.w5)((()=>[Be,(0,s.Wm)(Ue.tj,{class:"mx-auto mt-5 forgottenMail"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{clearable:"",label:"Email address",placeholder:"johndoe@gmail.com",type:"email",modelValue:e.forgottenEmail,"onUpdate:modelValue":t[3]||(t[3]=t=>e.forgottenEmail=t),error:!r.isValidEmail,"error-messages":r.isValidEmail?[]:["Veuillez entrer une adresse e-mail valide."]},null,8,["modelValue","error","error-messages"])])),_:1})])),_:1}),(0,s.Wm)(Ae.h,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{variant:"text",onClick:e=>i.value=!1},{default:(0,s.w5)((()=>[(0,s.Uk)("Fermer")])),_:2},1032,["onClick"]),(0,s.Wm)(d.T,{variant:"elevated",color:"fayatYellow",disabled:!r.isValidEmail,onClick:e.handleForgotPassword},{default:(0,s.w5)((()=>[(0,s.Uk)("Réinitialiser")])),_:1},8,["disabled","onClick"])])),_:2},1024)],32)])),_:2},1024)])),_:1})])),_:1})])])])),_:1}),(0,s.Wm)(Ae.h,{class:"justify-center cardActions"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{rounded:"pill",onClick:r.login,size:"large",type:"submit",variant:"outlined",class:"text-white px-3 mb-5",color:"fayatBlue"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Login ")])),_:1},8,["onClick"]),(0,s.Wm)(d.T,{variant:"text",size:"small",to:"/register"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Create an account ")])),_:1})])),_:1})],32)])),_:1}),e.errorMessage?((0,s.wg)(),(0,s.j4)(Ve.v,{key:0,modelValue:e.errorMessage,"onUpdate:modelValue":t[6]||(t[6]=t=>e.errorMessage=t),color:"error",top:"",right:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.errorMessage),1)])),_:1},8,["modelValue"])):(0,s.kq)("",!0)])}var je={data:()=>({visible:!1,email:"",password:"",errorMessage:"",show1:!1,rules:{required:e=>!!e||"Required.",min:e=>e.length>=8||"Min 8 characters"}}),computed:{isValidEmail(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(this.forgottenEmail)}},methods:{login(){(0,ke.e5)((0,ke.v0)(),this.email,this.password).then((()=>{this.$router.push("/")})).catch((e=>{const t=e.code,i=e.message;switch(console.error(t,i),e.code){case"auth/invalid-email":this.errorMessage="Adresse mail invalide";break;case"auth/user-disabled":this.errorMessage="Utilisateur désactivé";break;case"auth/user-not-found":this.errorMessage="Utilisateur non trouvé";break;case"auth/wrong-password":this.errorMessage="Mot de passe incorrect";break;default:this.errorMessage="Une erreur est survenue";break}}))},loginWithGoogle(){const e=new ke.hJ;(0,ke.rh)((0,ke.v0)(),e).then((()=>{this.$router.push("/")})).catch((e=>{console.error(e)}))}}};const Ge=(0,f.Z)(je,[["render",Me],["__scopeId","data-v-6a447630"]]);var Oe=Ge,ze=i.p+"img/registerCover.0aeb6eee.jpg";const qe={class:"main"};function Re(e,t,i,o,l,r){return(0,s.wg)(),(0,s.iD)("div",qe,[(0,s.Wm)($._,{class:"mx-auto RegisterCard mt-5",elevation:"8",color:"secondary"},{default:(0,s.w5)((()=>[(0,s._)("form",{onSubmit:t[6]||(t[6]=(0,a.iM)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"]))},[(0,s.Wm)(I.f,{class:"align-center registerCover text-white align-top",height:"200",cover:"",src:ze},{default:(0,s.w5)((()=>[(0,s.Wm)(Y.E,{class:"RegisterTitle"},{default:(0,s.w5)((()=>[(0,s.Uk)("Création de compte")])),_:1})])),_:1}),(0,s.Wm)(J.Z,{class:"py-10"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue.tj,{class:"mx-auto inputForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{clearable:"","prepend-icon":"mdi-nintendo-game-boy",label:"Nickname",placeholder:"Pedro514",type:"text",required:"",modelValue:e.Nickname,"onUpdate:modelValue":t[0]||(t[0]=t=>e.Nickname=t)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(Ue.tj,{class:"mx-auto inputForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{clearable:"","prepend-icon":"mdi-at",label:"Mail",placeholder:"johndoe@gmail.com",type:"email",required:"",modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(Ue.tj,{class:"mx-auto inputForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{label:"Password","prepend-icon":"mdi-lock",clearable:"",rules:[e.rules.min],"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password","onClick:append":t[2]||(t[2]=t=>e.show1=!e.show1),required:"",hint:"Enter a password",modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t)},null,8,["rules","append-icon","type","modelValue"])])),_:1}),(0,s.Wm)(Ue.tj,{class:"mx-auto inputForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{label:"Confirm password","prepend-icon":"mdi-check-all",clearable:"",required:"","append-icon":e.show2?"mdi-eye":"mdi-eye-off",type:e.show2?"text":"password","onClick:append":t[4]||(t[4]=t=>e.show2=!e.show2),modelValue:e.passwordConfirmation,"onUpdate:modelValue":t[5]||(t[5]=t=>e.passwordConfirmation=t),error:e.password!==e.passwordConfirmation,"error-messages":e.password!==e.passwordConfirmation?["Password mismatch !"]:[]},null,8,["append-icon","type","modelValue","error","error-messages"])])),_:1})])),_:1}),(0,s.Wm)(Ae.h,{class:"justify-center cardActions"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{rounded:"pill",onClick:r.register,variant:"outlined",type:"submit",size:"large",class:"text-white px-3 mb-5",color:"#FFD700",disabled:e.password!==e.passwordConfirmation},{default:(0,s.w5)((()=>[(0,s.Uk)(" Register ")])),_:1},8,["onClick","disabled"]),(0,s.Wm)(d.T,{variant:"text",size:"small",to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Already have an account ? Login ")])),_:1})])),_:1})],32)])),_:1}),(0,s.Wm)(Ve.v,{modelValue:e.mailSnackBar,"onUpdate:modelValue":t[7]||(t[7]=t=>e.mailSnackBar=t),color:"error",top:"",right:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" Cet e-mail est déjà utilisé ")])),_:1},8,["modelValue"]),(0,s.Wm)(Ve.v,{modelValue:e.phoneSnackBar,"onUpdate:modelValue":t[8]||(t[8]=t=>e.phoneSnackBar=t),color:"error",top:"",right:""},{default:(0,s.w5)((()=>[(0,s.Uk)(" Ce numéro de téléphone est déjà utilisé ")])),_:1},8,["modelValue"])])}var $e={data:()=>({show1:!1,show2:!1,mailSnackBar:!1,phoneSnackBar:!1,Nickname:"",email:"",password:"",passwordConfirmation:"",rules:{min:e=>!e||e.length>=8||"Min 8 characters required"}}),methods:{register(){const e=(0,ke.v0)(),t=(0,_e.ad)();(0,ke.Xb)(e,this.email,this.password).then((e=>{const i=e.user,a=i.uid,s=this.Nickname,o=this.email,l=[],r=(0,_e.hJ)(t,"User");(0,_e.ET)(r,{userId:a,userName:s,userEmail:o,userTag:l}).then((()=>{this.$router.push("/")})).catch((e=>{console.error("Erreur lors de l'ajout du tuple dans la collection 'User':",e)}))})).catch((e=>{console.error(e)}))},registerWithGoogle(){const e=new ke.hJ,t=(0,ke.v0)(),i=(0,_e.ad)();(0,ke.rh)(t,e).then((e=>{const t=e.user,a=t.uid,s=t.displayName,o=t.email,l=(0,_e.hJ)(i,"User");(0,_e.ET)(l,{userId:a,userName:s,userEmail:o}).then((()=>{this.$router.push("/")})).catch((e=>{console.error("Erreur lors de l'ajout du tuple dans la collection 'User':",e)}))})).catch((e=>{console.error(e)}))}}};const Ye=(0,f.Z)($e,[["render",Re],["__scopeId","data-v-32796332"]]);var Je=Ye,Ze=i(240);const He=e=>((0,s.dD)("data-v-3ff9d3a6"),e=e(),(0,s.Cn)(),e),Qe={class:"main"},Ke={class:"profilHeader"},Xe={class:""},et={class:"addItemDisplay"},tt=He((()=>(0,s._)("p",{class:"addItemTitle"},"About your account",-1))),it={class:"addItemContainer"},at=He((()=>(0,s._)("p",{class:"titleCardItem"},"Add a console, a game or an accessory",-1))),st={class:"exportSettingsContainer"},ot=He((()=>(0,s._)("h2",{class:"mb-5"},"Export your data",-1)));function lt(e,t,i,a,o,l){const r=(0,s.up)("LoadingElement");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),(0,s._)("div",Qe,[(0,s._)("div",Ke,[(0,s._)("p",Xe,"Hi "+(0,n.zw)(this.nickName),1),o.state.isSignedIn?((0,s.wg)(),(0,s.j4)(d.T,{key:0,onClick:l.handleSignout,color:"ghostPurple",icon:"mdi-power"},null,8,["onClick"])):(0,s.kq)("",!0)]),(0,s._)("div",et,[tt,(0,s._)("div",it,[(0,s.Wm)(Z.o,{class:"addItemRow"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",sm:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{class:"lastAddedCard mt-5"},{default:(0,s.w5)((()=>[at,(0,s.Wm)(Z.o,{class:"addButtons"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",sm:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{color:"ghostPurple",class:"btnCard",to:"/dashboard-items"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y.E,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,{icon:"mdi-nintendo-game-boy",class:"mr-1"}),(0,s.Uk)("You have "+(0,n.zw)(this.itemCount)+" items",1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{color:"info",class:"btnCard",to:"/dashboard-games"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y.E,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,{icon:"mdi-pac-man",class:"mr-1"}),(0,s.Uk)("You have "+(0,n.zw)(this.gameCount)+" games",1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{color:"grey",class:"btnCard",to:"/dashboard-accessories"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y.E,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,{icon:"mdi-video-input-scart",class:"mr-1"}),(0,s.Uk)("You have "+(0,n.zw)(this.accessoryCount)+" accessories",1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])]),(0,s._)("div",st,[ot,(0,s.Wm)(Z.o,{class:"exportSettings"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",md:"12",lg:"6",class:"setting"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ze.rL,{modelValue:o.area,"onUpdate:modelValue":t[0]||(t[0]=e=>o.area=e),items:["Games","Items","Accessories"],label:"Select the area to export",outlined:"",variant:"outlined"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(H.D,{cols:"12",md:"12",lg:"5",class:"setting"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ze.rL,{modelValue:o.selectedFormat,"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedFormat=e),items:["csv","json"],label:"Select the format",outlined:"",variant:"outlined"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(H.D,{cols:"12",md:"12",lg:"1",class:"setting"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{color:"orange",onClick:l.exportData,class:"clearButton"},{default:(0,s.w5)((()=>[(0,s.Uk)("Export")])),_:1},8,["onClick"])])),_:1})])),_:1})])]),(0,s.Wm)(Ve.v,{modelValue:o.missingFields,"onUpdate:modelValue":t[2]||(t[2]=e=>o.missingFields=e),color:"error",timeout:2e3,location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Missings export informations, please fill all the requirements. ")])),_:1},8,["modelValue"])],64)}i(2062);var rt=i(1294),nt=i(7795);const dt={apiKey:"AIzaSyCJ1BwXUBe4_itvJviVZwuqOzhDz3J43mE",authDomain:"gamedash-27ea0.firebaseapp.com",projectId:"gamedash-27ea0",storageBucket:"gamedash-27ea0.appspot.com",messagingSenderId:"318785995771",appId:"1:318785995771:web:b66d8b3e2d2c46e497415e",measurementId:"G-46LGEEZCZG"};(0,nt.ZF)(dt);const ct=(0,_e.ad)();async function mt(e){const t=(0,_e.hJ)(ct,"User"),i={};if(e){const a=await(0,_e.PL)((0,_e.IO)(t,(0,_e.ar)("userId","==",e)));a.forEach((e=>{const t=e.data();i.userid=t.userId,i.nickname=t.userName,i.tags=t.userTag,i.email=t.userEmail}))}return i}async function ut(e,t,i){const a=(0,_e.hJ)(ct,`${e}_${i}`);let s=[];const o=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("UserId","==",e)));return o.forEach((e=>{s.push({id:e.id,...e.data()})})),t.search&&(s=s.filter((e=>e.Name&&e.Name.toLowerCase().includes(t.search.toLowerCase())))),t.minPrice&&(s=s.filter((e=>e.PurchasePrice>=parseFloat(t.minPrice)))),t.maxPrice&&(s=s.filter((e=>e.PurchasePrice<=parseFloat(t.maxPrice)))),t.selectedTags&&t.selectedTags.length>0&&(s=s.filter((e=>e.Tags&&e.Tags.includes&&t.selectedTags.every((t=>e.Tags.includes(t)))))),t.selectedCondition&&(s=s.filter((e=>e.State===t.selectedCondition))),t.selectedConsole&&(s=s.filter((e=>e.Console===t.selectedConsole))),t.sortingFilter&&s.sort(((e,i)=>"Price : Low to High"===t.sortingFilter?e.PurchasePrice-i.PurchasePrice:"Price : High to Low"===t.sortingFilter?i.PurchasePrice-e.PurchasePrice:"Alphabetical : A-Z"===t.sortingFilter?e.Name.localeCompare(i.Name):"Newest first"===t.sortingFilter?i.AddDate-e.AddDate:"Oldest first"===t.sortingFilter?e.AddDate-i.AddDate:void 0)),s}async function ht(e,t,i){const a=(0,_e.hJ)(ct,`${e}_${i}`);let s=null;const o=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("UserId","==",e),(0,_e.ar)("item_id","==",t)));return o.forEach((e=>{s={id:e.id,...e.data()}})),s}async function gt(e,t){console.log("Exporting items for user",e);const i=[],a=(0,_e.hJ)(ct,`${e}_${t}`),s=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("UserId","==",e)));s.forEach((e=>{i.push({id:e.id,...e.data()})}));const o=JSON.stringify(i),l=new Blob([o],{type:"application/json"}),r=URL.createObjectURL(l);return r}async function pt(e,t){console.log("Exporting items to CSV for user",e);const i=[],a=(0,_e.hJ)(ct,`${e}_${t}`),s=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("UserId","==",e)));s.forEach((e=>{i.push({id:e.id,...e.data()})}));const o=[],l=Object.keys(i[0]);o.push(l.join(","));for(const c of i){const e=l.map((e=>{const t=(""+c[e]).replace(/"/g,'\\"');return`"${t}"`}));o.push(e.join(","))}const r=o.join("\n"),n=new Blob([r],{type:"text/csv"}),d=URL.createObjectURL(n);return d}async function ft(e,t,i){try{const a=t.id,s=(0,_e.JU)(ct,`${e}_${i}`,a);await(0,_e.oe)(s)}catch(a){console.error("Error deleting item: ",a)}}async function wt(e){const t={},i=(0,_e.hJ)(ct,`${e}_Items`),a=(0,_e.hJ)(ct,`${e}_Games`),s=(0,_e.hJ)(ct,`${e}_Accessories`);let o=[],l=[],r=[];const n=await(0,_e.PL)((0,_e.IO)(i,(0,_e.ar)("UserId","==",e)));n.forEach((e=>{o.push({id:e.id,...e.data()})}));const d=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("UserId","==",e)));d.forEach((e=>{l.push({id:e.id,...e.data()})}));const c=await(0,_e.PL)((0,_e.IO)(s,(0,_e.ar)("UserId","==",e)));return c.forEach((e=>{r.push({id:e.id,...e.data()})})),t.itemCount=o.length,t.gameCount=l.length,t.accessoryCount=r.length,t}let vt;const yt=(0,ye.qj)({isSignedIn:!1,userMail:""});var kt={name:"MyGameCollectionComp",components:{LoadingElement:ve},data(){return{state:yt,missingFields:!1,nickName:"",email:"",userId:"",area:"",selectedFormat:"",itemCount:0,gameCount:0,accessoryCount:0,isLoading:!0,myItems:[],tags:[]}},mounted(){this.fetchUserData(),this.fetchStats()},methods:{async exportData(){if(this.area&&this.selectedFormat)try{let e;e=this.selectedFormat&&"json"===this.selectedFormat?await gt(this.userId,this.area):await pt(this.userId,this.area);const t=document.createElement("a");t.href=e,t.download=`exported_${this.area}.${this.selectedFormat}`,t.click(),URL.revokeObjectURL(e)}catch(e){console.error("Error exporting data:",e)}else this.missingFields=!0},async fetchStats(){try{const e=await wt(this.userId);this.itemCount=e.itemCount,this.gameCount=e.gameCount,this.accessoryCount=e.accessoryCount}catch(e){console.error("Error getting stats informations:",e)}},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){this.userId=t.uid;try{const e=await mt(this.userId);this.nickName=e.nickname,this.tags=e.tags,this.email=e.email,this.isLoading=!1}catch(i){console.error("Error getting user informations:",i)}}else console.error("No user connected")},handleSignout(){(0,ke.w7)(vt).then((()=>{this.$router.push("/login")})).catch((e=>{console.error(e)}))}},setup(){(0,s.bv)((()=>{vt=(0,ke.v0)(),(0,ke.Aj)(vt,(e=>{yt.isSignedIn=!!e,yt.userEmail=e?e.email:""}))}))}};const _t=(0,f.Z)(kt,[["render",lt],["__scopeId","data-v-3ff9d3a6"]]);var bt=_t,Ct=i(988),It=i(4842);const xt=e=>((0,s.dD)("data-v-76893c16"),e=e(),(0,s.Cn)(),e),Dt={class:"main"},Wt={class:"actionBar"},At={key:0},Pt={key:1},Ut={class:"lastAddedDisplay"},Vt={class:"titleContainer"},Tt={key:0,class:"lastAddedTitle"},Ft={key:1,class:"lastAddedTitle"},St={class:"lastAddedCardContainer"},Et={class:"noLastItem"},Nt={class:"additemFormContainer"},Lt={class:"inputForm"},Bt={class:"inputForm"},Mt={class:"inputForm"},jt={class:"inputForm"},Gt={class:"inputForm"},Ot={class:"inputForm"},zt={class:"inputForm"},qt={class:"inputForm"},Rt={class:"inputForm"},$t={class:"inputForm"},Yt={class:"inputForm"},Jt={class:"inputForm mb-7",style:{display:"flex","justify-content":"flex-end"}},Zt=xt((()=>(0,s._)("h2",{class:"mb-4"},"Show us your item",-1))),Ht={class:"imageContainer"},Qt={key:0,class:"helper"},Kt={key:1,class:"btn mb-10"},Xt={key:2,class:"imageContainerDisplay"},ei=["src"],ti={class:"imageContainer"},ii={key:0,class:"helper"},ai={key:1,class:"btn mb-10"},si={key:2,class:"imageContainerDisplay"},oi=["src"],li={class:"imageContainer"},ri={key:0,class:"helper"},ni={key:1,class:"btn mb-10"},di={key:2,class:"imageContainerDisplay"},ci=["src"],mi={class:"validateContainer mt-10"},ui={class:"mb-4"};function hi(e,t,i,o,l,r){const n=(0,s.up)("loading-element");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.isLoading?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),(0,s._)("div",Dt,[(0,s._)("div",Wt,[l.isEditMode?((0,s.wg)(),(0,s.iD)("h2",At,"Modify an item from your collection")):((0,s.wg)(),(0,s.iD)("h2",Pt,"Add an item to your collection"))]),(0,s._)("div",Ut,[(0,s._)("div",Vt,[l.isEditMode?((0,s.wg)(),(0,s.iD)("p",Tt,"Modify your item informations ...")):((0,s.wg)(),(0,s.iD)("p",Ft,"About your new item ..."))]),(0,s._)("div",St,[(0,s._)("div",Et,[(0,s._)("div",Nt,[(0,s._)("div",Lt,[(0,s.Wm)(Te.h,{clearable:"",label:"Item Name",modelValue:l.itemName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.itemName=e)},null,8,["modelValue"])]),(0,s._)("div",Bt,[(0,s.Wm)(Te.h,{clearable:"",label:"Item Model",modelValue:l.itemModel,"onUpdate:modelValue":t[1]||(t[1]=e=>l.itemModel=e)},null,8,["modelValue"])]),(0,s._)("div",Mt,[(0,s.Wm)(Te.h,{clearable:"",label:"Item Serial Number",modelValue:l.serialNumber,"onUpdate:modelValue":t[2]||(t[2]=e=>l.serialNumber=e)},null,8,["modelValue"])]),(0,s._)("div",jt,[(0,s.Wm)(Ct.f,{modelValue:l.gameSystem,"onUpdate:modelValue":t[3]||(t[3]=e=>l.gameSystem=e),items:l.consoles,label:"Console"},null,8,["modelValue","items"])]),(0,s._)("div",Gt,[(0,s.Wm)(Ct.f,{modelValue:l.itemBrand,"onUpdate:modelValue":t[4]||(t[4]=e=>l.itemBrand=e),items:l.brands,label:"Item brand"},null,8,["modelValue","items"])]),(0,s._)("div",Ot,[(0,s.Wm)(Ze.rL,{modelValue:l.itemCondition,"onUpdate:modelValue":t[5]||(t[5]=e=>l.itemCondition=e),items:l.conditions,label:"Item condition"},null,8,["modelValue","items"])]),(0,s._)("div",zt,[(0,s.Wm)(Ze.rL,{modelValue:l.haveBox,"onUpdate:modelValue":t[6]||(t[6]=e=>l.haveBox=e),items:l.yesNoResponses,label:"I have a box"},null,8,["modelValue","items"])]),(0,s._)("div",qt,[(0,s.Wm)(Ze.rL,{modelValue:l.haveAllAccessories,"onUpdate:modelValue":t[7]||(t[7]=e=>l.haveAllAccessories=e),items:l.yesNoResponses,label:"I have all the accessories"},null,8,["modelValue","items"])]),(0,s._)("div",Rt,[(0,s.Wm)(It.z,{modelValue:l.itemParticularities,"onUpdate:modelValue":t[8]||(t[8]=e=>l.itemParticularities=e),label:"Particularities",maxlength:"250","auto-grow":"",counter:"","no-resize":"",clearable:""},null,8,["modelValue"])]),(0,s._)("div",$t,[(0,s.Wm)(Te.h,{clearable:"",label:"Item purchase price",type:"number",modelValue:l.purchasePrice,"onUpdate:modelValue":t[9]||(t[9]=e=>l.purchasePrice=e)},null,8,["modelValue"])]),(0,s._)("div",Yt,[(0,s.Wm)(Ze.rL,{modelValue:l.itemTags,"onUpdate:modelValue":t[10]||(t[10]=e=>l.itemTags=e),items:l.tags,chips:"",label:"Tags",multiple:"",taggable:""},null,8,["modelValue","items"])]),(0,s._)("div",Jt,[(0,s.Wm)(d.T,{onClick:t[11]||(t[11]=e=>l.addTagDialog=!0),variant:"elevated",color:"ghostPurple",density:"comfortable",rounded:"pill"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add Tag")])),_:1})]),Zt,(0,s.Wm)(Z.o,{class:"lastAddedColumn"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Ht,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[14]||(t[14]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[15]||(t[15]=e=>r.onDrop(1,e))},[l.image?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qt)),l.image?((0,s.wg)(),(0,s.iD)("div",Xt,[(0,s._)("img",{src:l.image,class:"img"},null,8,ei),(0,s.Wm)(d.T,{class:"btn",onClick:t[13]||(t[13]=e=>r.removeFile(1)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",Kt,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),(0,s._)("input",{type:"file",name:"image1",onChange:t[12]||(t[12]=e=>r.onChange(1,e))},null,32)]))],32)])])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",ti,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[18]||(t[18]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[19]||(t[19]=e=>r.onDrop(2,e))},[l.image2?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ii)),l.image2?((0,s.wg)(),(0,s.iD)("div",si,[(0,s._)("img",{src:l.image2,class:"img"},null,8,oi),(0,s.Wm)(d.T,{class:"btn",onClick:t[17]||(t[17]=e=>r.removeFile(2)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",ai,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),(0,s._)("input",{type:"file",name:"image2",onChange:t[16]||(t[16]=e=>r.onChange(2,e))},null,32)]))],32)])])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",li,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[22]||(t[22]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[23]||(t[23]=e=>r.onDrop(3,e))},[l.image3?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ri)),l.image3?((0,s.wg)(),(0,s.iD)("div",di,[(0,s._)("img",{src:l.image3,class:"img"},null,8,ci),(0,s.Wm)(d.T,{class:"btn",onClick:t[21]||(t[21]=e=>r.removeFile(3)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",ni,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),l.image3?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("input",{key:0,type:"file",name:"image3",onChange:t[20]||(t[20]=e=>r.onChange(3,e))},null,32))]))],32)])])),_:1})])),_:1}),(0,s._)("div",mi,[l.isEditMode?((0,s.wg)(),(0,s.j4)(d.T,{key:0,variant:"elevated",rounded:"pill",color:"grey",to:"/dashboard-items",class:"mr-7"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(d.T,{variant:"elevated",rounded:"pill",color:"ghostPurple",onClick:r.validate},{default:(0,s.w5)((()=>[(0,s.Uk)("Save")])),_:1},8,["onClick"])])])])])])]),(0,s._)("div",null,[(0,s._)("div",ui,[(0,s.Wm)(H.D,{cols:"auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pe.B,{transition:"dialog-top-transition",class:"modalDialog",modelValue:l.addTagDialog,"onUpdate:modelValue":t[25]||(t[25]=e=>l.addTagDialog=e)},{default:(0,s.w5)((({isActive:e})=>[(0,s.Wm)($._,null,{default:(0,s.w5)((()=>[(0,s._)("form",null,[(0,s.Wm)(Fe.i,{color:"ghostPurple",class:"text-center",title:"Add a new tag"}),(0,s.Wm)(J.Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{clearable:"",label:"New Tag",type:"text",modelValue:l.newTag,"onUpdate:modelValue":t[24]||(t[24]=e=>l.newTag=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(Ae.h,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{variant:"text",onClick:t=>e.value=!1},{default:(0,s.w5)((()=>[(0,s.Uk)("Annuler")])),_:2},1032,["onClick"]),(0,s.Wm)(d.T,{variant:"elevated",color:"ghostPurple",onClick:r.addItem},{default:(0,s.w5)((()=>[(0,s.Uk)("Add")])),_:1},8,["onClick"])])),_:2},1024)])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])]),(0,s.Wm)(Ve.v,{modelValue:l.missingFields,"onUpdate:modelValue":t[26]||(t[26]=e=>l.missingFields=e),color:"error",timeout:2e3,location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Missings item informations, please fill all the fields. ")])),_:1},8,["modelValue"]),(0,s.Wm)(Ve.v,{modelValue:l.successAddingItem,"onUpdate:modelValue":t[27]||(t[27]=e=>l.successAddingItem=e),color:"success",timeout:2e3,location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Adding item to your collection. Redirecting you to your collection. ")])),_:1},8,["modelValue"])],64)}var gi=JSON.parse('{"Y":["Nintendo","Sony","Microsoft","Sega","Atari","SNK","NEC","Panasonic","Coleco","Mattel","Magnavox","Commodore","Philips","Tiger","Bandai","Amstrad","Sinclair","Fairchild","3DO","Neo Geo"]}'),pi=JSON.parse('{"y":["New","Mint","Very good condition","Good condition","Normal wear","Slightly damaged","Very damaged","Need to be repaired","Broken"]}'),fi={v:["Yes","No"]},wi=JSON.parse('{"C":["SP","PS Vita","PSP","PS1","PS2","PS3","PS4","PS5","Xbox","Xbox 360","Xbox One","Xbox Series X","Xbox Series S","Nintendo Switch","Nintendo Wii","Nintendo Wii U","Nintendo 64","Nintendo Family Computer","Super Nintendo Entertainment System (SNES)","Nintendo Entertainment System (NES)","Nintendo GameCube","Nintendo DS","Nintendo 3DS","Nintendo Game Boy","Nintendo Game Boy Color","Nintendo Game Boy Advance","Sega Genesis","Sega Dreamcast","Sega Saturn","Sega Master System","Atari 2600","Atari 5200","Atari 7800","Atari Jaguar","Neo Geo","TurboGrafx-16","TurboGrafx-CD","PC Engine","PC Engine CD","Magnavox Odyssey","Magnavox Odyssey 2","ColecoVision","Intellivision","Commodore 64","Amiga CD32","3DO Interactive Multiplayer","Panasonic Q","Ouya","Playdate","Playdate Pulp","Google Stadia","Amazon Luna","Anbernic RG350","Anbernic RG351P","Analogue Pocket","Evercade","Retroid Pocket 2","RK2020","Steam Deck","Razer Kishi","Game Boy Micro","Game Boy Advance SP","Game Gear","WonderSwan","WonderSwan Color","Virtual Boy","TurboExpress","N-Gage","Zodiac","Tapwave Zodiac 2","Apple Pippin","Amstrad GX4000","Philips CD-i","Nuon","V.Smile","V.Smile Pocket","LeapFrog Leapster","LeapFrog Leapster2","Neo Geo Pocket","Neo Geo Pocket Color","Tapwave Zodiac","Gizmondo","Wonderswan Crystal","HyperScan","Microvision","Playdia","Supervision","SuperVision 8000","Epoch Game Pocket Computer","Sega Nomad","Sega Pico","Sega CDX","Bitcorp Gamate","View-Master Interactive Vision","VTech V.Smile Motion","VTech Socrates","Atari Lynx","Amstrad GX4000","Game.com","Tiger R-Zone","Sega VR","Sega Mega Jet","Sega 32X","Super 32X","3DO Blaster","Super A\'Can","TurboDuo","Funtech Super A\'Can","PlayStation TV","Nintendo Switch Lite","PlayStation Classic","Sega Genesis Mini","SNK Neo Geo Mini","TurboGrafx-16 Mini","Amico","Evercade VS","Analogue Duo","Nintendo Switch OLED Model","PlayStation 5 Digital Edition","PlayStation Portable Go","Super Famicom Classic Mini","Game & Watch: Super Mario Bros.","Game & Watch: The Legend of Zelda","Polymega","Valve Index","Oculus Rift","Oculus Quest","Oculus Quest 2","HTC Vive","HTC Vive Pro","PlayStation VR","Windows Mixed Reality","Nintendo Labo VR Kit","Google Cardboard","Xbox VR","PS VR 2","NES Classic Edition","SNES Classic Edition","PlayStation Classic","Colecovision Flashback","Sega Genesis Flashback","Sega Genesis Mini 2","Atari Flashback 8","Atari Flashback X","Neo Geo Mini Pro Player Pack","Intellivision Amico"]}'),vi=i(536),yi=i(9564),ki=i.n(yi);let _i;const bi=(0,ye.qj)({isSignedIn:!1,userMail:""});var Ci={name:"AddItemComp",components:{LoadingElement:ve},data(){return{state:bi,tags:[],itemTags:[],addTagDialog:!1,userId:"",email:"",image:"",image2:"",image3:"",newTag:"",haveBox:"No",haveAllAccessories:"No",itemParticularities:"",missingFields:!1,successAddingItem:!1,itemBrand:"",itemCondition:"",itemName:"",itemModel:"",gameSystem:"",purchasePrice:"",serialNumber:"",consoles:wi.C,brands:gi.Y,conditions:pi.y,yesNoResponses:fi.v,isLoading:!0,editItemId:"",editItem:{},isEditMode:!1}},mounted(){this.initializeFiltersFromQuery(),this.fetchUserData()},methods:{async initializeFiltersFromQuery(){const e=this.$route.query;e.userId&&(this.userId=e.userId),e.itemId&&(this.editItemId=e.itemId),this.isEditMode=""!==this.editItemId;try{this.editItem=await ht(this.userId,this.editItemId,"Items"),this.isEditMode&&this.editItem&&(this.itemBrand=this.editItem.Brand,this.itemModel=this.editItem.Model,this.serialNumber=this.editItem.serialNumber,this.itemCondition=this.editItem.State,this.itemName=this.editItem.Name,this.itemSystem=this.editItem.Console,this.purchasePrice=this.editItem.PurchasePrice,this.particularities=this.editItem.Particularities,this.haveBox=this.editItem.OriginalBox?"Yes":"No",this.haveAllAccessories=this.editItem.AllAccessories?"Yes":"No",this.itemTags=this.editItem.Tags,this.image=this.editItem.photoURL[0],this.image2=this.editItem.photoURL[1],this.image3=this.editItem.photoURL[2])}catch(t){console.error("Error fetching item: ",t)}},addItem(){if(""===this.newTag)return;const e=this.newTag;this.tags.push(e),this.newTag="",this.itemTags.push(e),this.addTagDialog=!1},async validate(){const e=(0,_e.ad)();if(""===this.image||""===this.itemBrand||""===this.itemCondition||""===this.haveBox||""===this.haveAllAccessories)return void(this.missingFields=!0);this.isLoading=!0;const t=Date.now(),i=(0,vi.Z)(),a=`${t}_${ki()(i)}`,s=this.userId,o=this.itemBrand,l=this.gameSystem,r=this.itemModel,n=this.itemName,d="Yes"===this.haveBox,c="Yes"===this.haveAllAccessories,m=this.itemCondition,u=this.itemParticularities,h=this.purchasePrice,g=this.serialNumber,p="Console",f=this.itemTags,w=new Date,v=[],y=(0,rt.cF)(),k=(0,rt.iH)(y,`Items/${this.userId}`),_=async e=>{if(e.startsWith("https://firebasestorage.googleapis.com/"))return e;const t=e=>{const t=/^\s*data:([a-z]+\/[a-z0-9-+.]+)?(;[a-z-]+=[a-z0-9-]+)*;base64,[a-z0-9+/]+={0,2}\s*$/i;return t.test(e)};if(!t(e))return console.error("Image is not a valid data URL"),null;const i=Date.now(),a=(0,rt.iH)(k,`${i}_${n}`);return await(0,rt.sf)(a,e,"data_url"),await(0,rt.Jt)(a)};try{this.image&&v.push(await _(this.image)),this.image2&&v.push(await _(this.image2)),this.image3&&v.push(await _(this.image3));const t={item_id:a,UserId:s,Brand:o,Console:l,Tags:f,Model:r,serialNumber:g,Name:n,OriginalBox:d,AllAccessories:c,State:m,Particularities:u,PurchasePrice:h,Type:p,AddDate:w,photoURL:v};if(this.isEditMode&&this.editItemId){const i=await(0,_e.PL)((0,_e.IO)((0,_e.hJ)(e,`${this.userId}_Items`),(0,_e.ar)("item_id","==",this.editItemId)));if(i.empty)console.error("No document to update with item_id: ",this.editItemId);else{const e=i.docs[0].ref;await(0,_e.r7)(e,t)}}else await(0,_e.ET)((0,_e.hJ)(e,`${this.userId}_Items`),t);const i=await(0,_e.PL)((0,_e.IO)((0,_e.hJ)(e,"User"),(0,_e.ar)("userId","==",this.userId)));i.forEach((async t=>{const i=t.id;await(0,_e.r7)((0,_e.JU)(e,"User",i),{userTag:this.tags})})),setTimeout((()=>{this.$router.push("/dashboard-items")}),2e3)}catch(b){console.error(b),this.errorAddingItem=!0}},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){const e=t.uid;this.userId=e;const i=(0,_e.ad)(),a=(0,_e.hJ)(i,"User"),s=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("userId","==",e)));s.forEach((e=>{const t=e.data();this.userId=t.userId,this.nickName=t.userName,this.tags=t.userTag,this.isLoading=!1}))}else console.error("No user connected")},goBack(){window.history.back()},removeFile(e){1===e?this.image="":2===e?this.image2="":3===e&&(this.image3="")},onDrop(e,t){t.stopPropagation(),t.preventDefault();var i=t.dataTransfer.files;this.createFile(i[0],e)},onChange(e,t){var i=t.target.files;this.createFile(i[0],e)},createFile(e,t){if(e.type.match("image.*")){var i=new FileReader,a=this;i.onload=function(e){1===t?a.image=e.target.result:2===t?a.image2=e.target.result:3===t&&(a.image3=e.target.result)},i.readAsDataURL(e)}else alert("Select an image")}},setup(){(0,s.bv)((()=>{_i=(0,ke.v0)(),(0,ke.Aj)(_i,(e=>{bi.isSignedIn=!!e,bi.userEmail=e?e.email:""}))}))}};const Ii=(0,f.Z)(Ci,[["render",hi],["__scopeId","data-v-76893c16"]]);var xi=Ii;const Di=e=>((0,s.dD)("data-v-8f912960"),e=e(),(0,s.Cn)(),e),Wi={class:"main"},Ai={class:"actionBar"},Pi={key:0},Ui={key:1},Vi={class:"lastAddedDisplay"},Ti={class:"titleContainer"},Fi={key:0,class:"lastAddedTitle"},Si={key:1,class:"lastAddedTitle"},Ei={class:"lastAddedCardContainer"},Ni={class:"noLastItem"},Li={class:"additemFormContainer"},Bi={class:"inputForm"},Mi={class:"inputForm"},ji={class:"inputForm"},Gi={class:"inputForm"},Oi={class:"inputForm"},zi={class:"inputForm"},qi={class:"inputForm"},Ri={class:"inputForm"},$i={class:"inputForm mb-7",style:{display:"flex","justify-content":"flex-end"}},Yi=Di((()=>(0,s._)("h2",{class:"mb-4"},"Show us your game",-1))),Ji={class:"imageContainer"},Zi={key:0,class:"helper"},Hi={key:1,class:"btn mb-10"},Qi={key:2,class:"imageContainerDisplay"},Ki=["src"],Xi={class:"imageContainer"},ea={key:0,class:"helper"},ta={key:1,class:"btn mb-10"},ia={key:2,class:"imageContainerDisplay"},aa=["src"],sa={class:"imageContainer"},oa={key:0,class:"helper"},la={key:1,class:"btn mb-10"},ra={key:2,class:"imageContainerDisplay"},na=["src"],da={class:"validateContainer mt-10"},ca={class:"mb-4"};function ma(e,t,i,o,l,r){const n=(0,s.up)("loading-element");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.isLoading?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),(0,s._)("div",Wi,[(0,s._)("div",Ai,[(0,s.Wm)(d.T,{onClick:r.goBack,color:"ghostPurple",icon:"mdi-arrow-left",class:"mr-4"},null,8,["onClick"]),l.isEditMode?((0,s.wg)(),(0,s.iD)("h2",Pi,"Modify a game from your collection")):((0,s.wg)(),(0,s.iD)("h2",Ui,"Add a game to your collection"))]),(0,s._)("div",Vi,[(0,s._)("div",Ti,[l.isEditMode?((0,s.wg)(),(0,s.iD)("p",Fi,"Modify your game informations ...")):((0,s.wg)(),(0,s.iD)("p",Si,"About your new game ..."))]),(0,s._)("div",Ei,[(0,s._)("div",Ni,[(0,s._)("div",Li,[(0,s._)("div",Bi,[(0,s.Wm)(Te.h,{clearable:"",label:"Game Name",modelValue:l.itemName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.itemName=e)},null,8,["modelValue"])]),(0,s._)("div",Mi,[(0,s.Wm)(Ct.f,{modelValue:l.itemSystem,"onUpdate:modelValue":t[1]||(t[1]=e=>l.itemSystem=e),items:l.consoles,label:"Console"},null,8,["modelValue","items"])]),(0,s._)("div",ji,[(0,s.Wm)(Ze.rL,{modelValue:l.itemCondition,"onUpdate:modelValue":t[2]||(t[2]=e=>l.itemCondition=e),items:l.conditions,label:"Game condition"},null,8,["modelValue","items"])]),(0,s._)("div",Gi,[(0,s.Wm)(Ze.rL,{modelValue:l.haveBox,"onUpdate:modelValue":t[3]||(t[3]=e=>l.haveBox=e),items:l.yesNoResponses,label:"I have a box"},null,8,["modelValue","items"])]),(0,s._)("div",Oi,[(0,s.Wm)(Ze.rL,{modelValue:l.haveAllAccessories,"onUpdate:modelValue":t[4]||(t[4]=e=>l.haveAllAccessories=e),items:l.yesNoResponses,label:"I have all the accessories"},null,8,["modelValue","items"])]),(0,s._)("div",zi,[(0,s.Wm)(It.z,{modelValue:l.particularities,"onUpdate:modelValue":t[5]||(t[5]=e=>l.particularities=e),label:"Particularities",maxlength:"250","auto-grow":"",counter:"","no-resize":"",clearable:""},null,8,["modelValue"])]),(0,s._)("div",qi,[(0,s.Wm)(Te.h,{clearable:"",label:"Item purchase price",type:"number",modelValue:l.purchasePrice,"onUpdate:modelValue":t[6]||(t[6]=e=>l.purchasePrice=e)},null,8,["modelValue"])]),(0,s._)("div",Ri,[(0,s.Wm)(Ze.rL,{modelValue:l.itemTags,"onUpdate:modelValue":t[7]||(t[7]=e=>l.itemTags=e),items:l.tags,chips:"",label:"Tags",multiple:"",taggable:""},null,8,["modelValue","items"])]),(0,s._)("div",$i,[(0,s.Wm)(d.T,{onClick:t[8]||(t[8]=e=>l.addTagDialog=!0),variant:"elevated",color:"ghostPurple",density:"comfortable",rounded:"pill"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add Tag")])),_:1})]),Yi,(0,s.Wm)(Z.o,{class:"lastAddedColumn"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Ji,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[11]||(t[11]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[12]||(t[12]=e=>r.onDrop(1,e))},[l.image?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zi)),l.image?((0,s.wg)(),(0,s.iD)("div",Qi,[(0,s._)("img",{src:l.image,class:"img"},null,8,Ki),(0,s.Wm)(d.T,{class:"btn",onClick:t[10]||(t[10]=e=>r.removeFile(1)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",Hi,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),(0,s._)("input",{type:"file",name:"image1",onChange:t[9]||(t[9]=e=>r.onChange(1,e))},null,32)]))],32)])])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Xi,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[15]||(t[15]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[16]||(t[16]=e=>r.onDrop(2,e))},[l.image2?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ea)),l.image2?((0,s.wg)(),(0,s.iD)("div",ia,[(0,s._)("img",{src:l.image2,class:"img"},null,8,aa),(0,s.Wm)(d.T,{class:"btn",onClick:t[14]||(t[14]=e=>r.removeFile(2)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",ta,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),(0,s._)("input",{type:"file",name:"image2",onChange:t[13]||(t[13]=e=>r.onChange(2,e))},null,32)]))],32)])])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",sa,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[19]||(t[19]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[20]||(t[20]=e=>r.onDrop(3,e))},[l.image3?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",oa)),l.image3?((0,s.wg)(),(0,s.iD)("div",ra,[(0,s._)("img",{src:l.image3,class:"img"},null,8,na),(0,s.Wm)(d.T,{class:"btn",onClick:t[18]||(t[18]=e=>r.removeFile(3)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",la,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),l.image3?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("input",{key:0,type:"file",name:"image3",onChange:t[17]||(t[17]=e=>r.onChange(3,e))},null,32))]))],32)])])),_:1})])),_:1}),(0,s._)("div",da,[l.isEditMode?((0,s.wg)(),(0,s.j4)(d.T,{key:0,variant:"elevated",rounded:"pill",color:"grey",to:"/dashboard-games",class:"mr-7"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(d.T,{variant:"elevated",rounded:"pill",color:"ghostPurple",onClick:r.validate},{default:(0,s.w5)((()=>[(0,s.Uk)("Save")])),_:1},8,["onClick"])])])])])])]),(0,s._)("div",null,[(0,s._)("div",ca,[(0,s.Wm)(H.D,{cols:"auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pe.B,{transition:"dialog-top-transition",class:"modalDialog",modelValue:l.addTagDialog,"onUpdate:modelValue":t[22]||(t[22]=e=>l.addTagDialog=e)},{default:(0,s.w5)((({isActive:i})=>[(0,s.Wm)($._,null,{default:(0,s.w5)((()=>[(0,s._)("form",null,[(0,s.Wm)(Fe.i,{color:"ghostPurple",class:"text-center",title:"Add a new tag"}),(0,s.Wm)(J.Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{clearable:"",label:"New Tag",type:"text",modelValue:e.newTag,"onUpdate:modelValue":t[21]||(t[21]=t=>e.newTag=t)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(Ae.h,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{variant:"text",onClick:e=>i.value=!1},{default:(0,s.w5)((()=>[(0,s.Uk)("Annuler")])),_:2},1032,["onClick"]),(0,s.Wm)(d.T,{variant:"elevated",color:"ghostPurple",onClick:r.addItem},{default:(0,s.w5)((()=>[(0,s.Uk)("Add")])),_:1},8,["onClick"])])),_:2},1024)])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])]),(0,s.Wm)(Ve.v,{modelValue:l.missingFields,"onUpdate:modelValue":t[23]||(t[23]=e=>l.missingFields=e),color:"error",timeout:2e3,location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Missings item informations, please fill all the fields. ")])),_:1},8,["modelValue"]),(0,s.Wm)(Ve.v,{modelValue:l.successAddingItem,"onUpdate:modelValue":t[24]||(t[24]=e=>l.successAddingItem=e),color:"success",timeout:2e3,location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Adding item to your collection. Redirecting you to your collection. ")])),_:1},8,["modelValue"])],64)}let ua;const ha=(0,ye.qj)({isSignedIn:!1,userMail:""});var ga={name:"AddItemComp",components:{LoadingElement:ve},data(){return{state:ha,tags:[],itemTags:[],addTagDialog:!1,email:"",image:"",image2:"",image3:"",userId:"",haveBox:"No",haveAllAccessories:"No",particularities:"",missingFields:!1,successAddingItem:!1,itemBrand:"",itemCondition:"",itemName:"",itemSystem:"",purchasePrice:"",consoles:wi.C,conditions:pi.y,yesNoResponses:fi.v,isLoading:!0,editItemId:"",editItem:{},isEditMode:!1}},mounted(){this.initializeFiltersFromQuery(),this.fetchUserData()},methods:{async initializeFiltersFromQuery(){const e=this.$route.query;e.userId&&(this.userId=e.userId),e.itemId&&(this.editItemId=e.itemId),this.isEditMode=""!==this.editItemId;try{this.editItem=await ht(this.userId,this.editItemId,"Games"),this.isEditMode&&this.editItem&&(this.itemBrand=this.editItem.Brand,this.itemCondition=this.editItem.State,this.itemName=this.editItem.Name,this.itemSystem=this.editItem.Console,this.purchasePrice=this.editItem.PurchasePrice,this.particularities=this.editItem.Particularities,this.haveBox=this.editItem.OriginalBox?"Yes":"No",this.haveAllAccessories=this.editItem.AllAccessories?"Yes":"No",this.itemTags=this.editItem.Tags,this.image=this.editItem.photoURL[0],this.image2=this.editItem.photoURL[1],this.image3=this.editItem.photoURL[2])}catch(t){console.error("Error fetching item: ",t)}},addItem(){if(""===this.newTag)return;const e=this.newTag;this.tags.push(e),this.newTag="",this.itemTags.push(e),this.addTagDialog=!1},async validate(){const e=(0,_e.ad)();if(""===this.image||""===this.itemBrand||""===this.itemCondition||""===this.haveBox||""===this.haveAllAccessories)return void(this.missingFields=!0);this.isLoading=!0;const t=Date.now(),i=(0,vi.Z)(),a=`${t}_${ki()(i)}`,s=this.userId,o=this.itemBrand?this.itemBrand:"Unavailable",l=this.itemSystem,r=this.itemModel?this.itemModel:"Unavailable",n=this.itemName,d="Yes"===this.haveBox,c="Yes"===this.haveAllAccessories,m=this.itemCondition,u=this.particularities,h=this.purchasePrice,g=this.serialNumber?this.serialNumber:"Unavailable",p="Game",f=this.itemTags,w=new Date,v=[],y=(0,rt.cF)(),k=(0,rt.iH)(y,`Games/${this.userId}`),_=async e=>{if(e.startsWith("https://firebasestorage.googleapis.com/"))return e;const t=e=>{const t=/^\s*data:([a-z]+\/[a-z0-9-+.]+)?(;[a-z-]+=[a-z0-9-]+)*;base64,[a-z0-9+/]+={0,2}\s*$/i;return t.test(e)};if(!t(e))return console.error("Image is not a valid data URL"),null;const i=Date.now(),a=(0,rt.iH)(k,`${i}_${n}`);return await(0,rt.sf)(a,e,"data_url"),await(0,rt.Jt)(a)};try{this.image&&v.push(await _(this.image)),this.image2&&v.push(await _(this.image2)),this.image3&&v.push(await _(this.image3));const t={item_id:a,UserId:s,Brand:o,Console:l,Tags:f,Model:r,serialNumber:g,Name:n,OriginalBox:d,AllAccessories:c,State:m,Particularities:u,PurchasePrice:h,Type:p,AddDate:w,photoURL:v};if(this.isEditMode&&this.editItemId){const i=await(0,_e.PL)((0,_e.IO)((0,_e.hJ)(e,`${this.userId}_Games`),(0,_e.ar)("item_id","==",this.editItemId)));if(i.empty)console.error("No document to update with item_id: ",this.editItemId);else{const e=i.docs[0].ref;await(0,_e.r7)(e,t)}}else await(0,_e.ET)((0,_e.hJ)(e,`${this.userId}_Games`),t);const i=await(0,_e.PL)((0,_e.IO)((0,_e.hJ)(e,"User"),(0,_e.ar)("userId","==",this.userId)));i.forEach((async t=>{const i=t.id;await(0,_e.r7)((0,_e.JU)(e,"User",i),{userTag:this.tags})})),setTimeout((()=>{this.$router.push("/dashboard-games")}),2e3)}catch(b){console.error(b),this.errorAddingItem=!0}},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){const e=t.uid;this.userId=e;const i=(0,_e.ad)(),a=(0,_e.hJ)(i,"User"),s=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("userId","==",e)));s.forEach((e=>{const t=e.data();this.userId=t.userId,this.nickName=t.userName,this.tags=t.userTag,this.isLoading=!1}))}else console.error("No user connected")},goBack(){window.history.back()},removeFile(e){1===e?this.image="":2===e?this.image2="":3===e&&(this.image3="")},onDrop(e,t){t.stopPropagation(),t.preventDefault();var i=t.dataTransfer.files;this.createFile(i[0],e)},onChange(e,t){var i=t.target.files;this.createFile(i[0],e)},createFile(e,t){if(e.type.match("image.*")){var i=new FileReader,a=this;i.onload=function(e){1===t?a.image=e.target.result:2===t?a.image2=e.target.result:3===t&&(a.image3=e.target.result)},i.readAsDataURL(e)}else alert("Select an image")}},setup(){(0,s.bv)((()=>{ua=(0,ke.v0)(),(0,ke.Aj)(ua,(e=>{ha.isSignedIn=!!e,ha.userEmail=e?e.email:""}))}))}};const pa=(0,f.Z)(ga,[["render",ma],["__scopeId","data-v-8f912960"]]);var fa=pa;const wa=e=>((0,s.dD)("data-v-781041e5"),e=e(),(0,s.Cn)(),e),va={class:"main"},ya={class:"actionBar"},ka={key:0},_a={key:1},ba={class:"lastAddedDisplay"},Ca={class:"titleContainer"},Ia={key:0,class:"lastAddedTitle"},xa={key:1,class:"lastAddedTitle"},Da={class:"lastAddedCardContainer"},Wa={class:"noLastItem"},Aa={class:"additemFormContainer"},Pa={class:"inputForm"},Ua={class:"inputForm"},Va={class:"inputForm"},Ta={class:"inputForm"},Fa={class:"inputForm"},Sa={class:"inputForm"},Ea={class:"inputForm"},Na={class:"inputForm"},La={class:"inputForm mb-7",style:{display:"flex","justify-content":"flex-end"}},Ba=wa((()=>(0,s._)("h2",{class:"mb-4"},"Show us your accessory",-1))),Ma={class:"imageContainer"},ja={key:0,class:"helper"},Ga={key:1,class:"btn mb-10"},Oa={key:2,class:"imageContainerDisplay"},za=["src"],qa={class:"imageContainer"},Ra={key:0,class:"helper"},$a={key:1,class:"btn mb-10"},Ya={key:2,class:"imageContainerDisplay"},Ja=["src"],Za={class:"imageContainer"},Ha={key:0,class:"helper"},Qa={key:1,class:"btn mb-10"},Ka={key:2,class:"imageContainerDisplay"},Xa=["src"],es={class:"validateContainer mt-10"},ts={class:"mb-4"};function is(e,t,i,o,l,r){const n=(0,s.up)("loading-element");return(0,s.wg)(),(0,s.iD)(s.HY,null,[l.isLoading?((0,s.wg)(),(0,s.j4)(n,{key:0})):(0,s.kq)("",!0),(0,s._)("div",va,[(0,s._)("div",ya,[(0,s.Wm)(d.T,{onClick:r.goBack,color:"ghostPurple",icon:"mdi-arrow-left",class:"mr-4"},null,8,["onClick"]),l.isEditMode?((0,s.wg)(),(0,s.iD)("h2",ka,"Modify an accesory from your collection")):((0,s.wg)(),(0,s.iD)("h2",_a,"Add an accesory to your collection"))]),(0,s._)("div",ba,[(0,s._)("div",Ca,[l.isEditMode?((0,s.wg)(),(0,s.iD)("p",Ia,"Modify your item informations ...")):((0,s.wg)(),(0,s.iD)("p",xa,"About your new accessory ..."))]),(0,s._)("div",Da,[(0,s._)("div",Wa,[(0,s._)("div",Aa,[(0,s._)("div",Pa,[(0,s.Wm)(Te.h,{clearable:"",label:"Accessory Name",modelValue:l.itemName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.itemName=e)},null,8,["modelValue"])]),(0,s._)("div",Ua,[(0,s.Wm)(Ze.rL,{modelValue:l.itemSystem,"onUpdate:modelValue":t[1]||(t[1]=e=>l.itemSystem=e),items:l.consoles,label:"Console"},null,8,["modelValue","items"])]),(0,s._)("div",Va,[(0,s.Wm)(Ze.rL,{modelValue:l.itemBrand,"onUpdate:modelValue":t[2]||(t[2]=e=>l.itemBrand=e),items:l.brands,label:"Accessory brand"},null,8,["modelValue","items"])]),(0,s._)("div",Ta,[(0,s.Wm)(Ze.rL,{modelValue:l.itemCondition,"onUpdate:modelValue":t[3]||(t[3]=e=>l.itemCondition=e),items:l.conditions,label:"Accessory condition"},null,8,["modelValue","items"])]),(0,s._)("div",Fa,[(0,s.Wm)(Ze.rL,{modelValue:l.haveBox,"onUpdate:modelValue":t[4]||(t[4]=e=>l.haveBox=e),items:l.yesNoResponses,label:"I have a box"},null,8,["modelValue","items"])]),(0,s._)("div",Sa,[(0,s.Wm)(It.z,{modelValue:l.particularities,"onUpdate:modelValue":t[5]||(t[5]=e=>l.particularities=e),label:"Particularities",maxlength:"250","auto-grow":"",counter:"","no-resize":"",clearable:""},null,8,["modelValue"])]),(0,s._)("div",Ea,[(0,s.Wm)(Te.h,{clearable:"",label:"Accessory purchase price",type:"number",modelValue:l.purchasePrice,"onUpdate:modelValue":t[6]||(t[6]=e=>l.purchasePrice=e)},null,8,["modelValue"])]),(0,s._)("div",Na,[(0,s.Wm)(Ze.rL,{modelValue:l.itemTags,"onUpdate:modelValue":t[7]||(t[7]=e=>l.itemTags=e),items:l.tags,chips:"",label:"Tags",multiple:"",taggable:""},null,8,["modelValue","items"])]),(0,s._)("div",La,[(0,s.Wm)(d.T,{onClick:t[8]||(t[8]=e=>l.addTagDialog=!0),variant:"elevated",color:"ghostPurple",density:"comfortable",rounded:"pill"},{default:(0,s.w5)((()=>[(0,s.Uk)("Add Tag")])),_:1})]),Ba,(0,s.Wm)(Z.o,{class:"lastAddedColumn"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Ma,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[11]||(t[11]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[12]||(t[12]=e=>r.onDrop(1,e))},[l.image?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ja)),l.image?((0,s.wg)(),(0,s.iD)("div",Oa,[(0,s._)("img",{src:l.image,class:"img"},null,8,za),(0,s.Wm)(d.T,{class:"btn",onClick:t[10]||(t[10]=e=>r.removeFile(1)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",Ga,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),(0,s._)("input",{type:"file",name:"image1",onChange:t[9]||(t[9]=e=>r.onChange(1,e))},null,32)]))],32)])])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",qa,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[15]||(t[15]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[16]||(t[16]=e=>r.onDrop(2,e))},[l.image2?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ra)),l.image2?((0,s.wg)(),(0,s.iD)("div",Ya,[(0,s._)("img",{src:l.image2,class:"img"},null,8,Ja),(0,s.Wm)(d.T,{class:"btn",onClick:t[14]||(t[14]=e=>r.removeFile(2)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",$a,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),(0,s._)("input",{type:"file",name:"image2",onChange:t[13]||(t[13]=e=>r.onChange(2,e))},null,32)]))],32)])])),_:1}),(0,s.Wm)(H.D,{cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Za,[(0,s._)("div",{class:"drop display-inline align-center",onDragover:t[19]||(t[19]=(0,a.iM)((()=>{}),["prevent"])),onDrop:t[20]||(t[20]=e=>r.onDrop(3,e))},[l.image3?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ha)),l.image3?((0,s.wg)(),(0,s.iD)("div",Ka,[(0,s._)("img",{src:l.image3,class:"img"},null,8,Xa),(0,s.Wm)(d.T,{class:"btn",onClick:t[18]||(t[18]=e=>r.removeFile(3)),variant:"elevated",color:"error",icon:"mdi-delete"})])):((0,s.wg)(),(0,s.iD)("label",Qa,[(0,s.Uk)(" SELECT OR DROP AN IMAGE "),l.image3?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("input",{key:0,type:"file",name:"image3",onChange:t[17]||(t[17]=e=>r.onChange(3,e))},null,32))]))],32)])])),_:1})])),_:1}),(0,s._)("div",es,[l.isEditMode?((0,s.wg)(),(0,s.j4)(d.T,{key:0,variant:"elevated",rounded:"pill",color:"grey",to:"/dashboard-items",class:"mr-7"},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(d.T,{variant:"elevated",rounded:"pill",color:"ghostPurple",onClick:r.validate},{default:(0,s.w5)((()=>[(0,s.Uk)("Save")])),_:1},8,["onClick"])])])])])])]),(0,s._)("div",null,[(0,s._)("div",ts,[(0,s.Wm)(H.D,{cols:"auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pe.B,{transition:"dialog-top-transition",class:"newTimeProposalDialog",modelValue:l.addTagDialog,"onUpdate:modelValue":t[22]||(t[22]=e=>l.addTagDialog=e)},{default:(0,s.w5)((({isActive:i})=>[(0,s.Wm)($._,null,{default:(0,s.w5)((()=>[(0,s._)("form",null,[(0,s.Wm)(Fe.i,{color:"ghostPurple",class:"text-center",title:"Add a new tag"}),(0,s.Wm)(J.Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{clearable:"",label:"New Tag",type:"text",modelValue:e.newTag,"onUpdate:modelValue":t[21]||(t[21]=t=>e.newTag=t)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(Ae.h,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{variant:"text",onClick:e=>i.value=!1},{default:(0,s.w5)((()=>[(0,s.Uk)("Annuler")])),_:2},1032,["onClick"]),(0,s.Wm)(d.T,{variant:"elevated",color:"ghostPurple",onClick:r.addItem},{default:(0,s.w5)((()=>[(0,s.Uk)("Add")])),_:1},8,["onClick"])])),_:2},1024)])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])]),(0,s.Wm)(Ve.v,{modelValue:l.missingFields,"onUpdate:modelValue":t[23]||(t[23]=e=>l.missingFields=e),color:"error",timeout:2e3,location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Missings item informations, please fill all the fields. ")])),_:1},8,["modelValue"]),(0,s.Wm)(Ve.v,{modelValue:l.successAddingItem,"onUpdate:modelValue":t[24]||(t[24]=e=>l.successAddingItem=e),color:"success",timeout:2e3,location:"bottom"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Adding item to your collection. Redirecting you to your collection. ")])),_:1},8,["modelValue"])],64)}let as;const ss=(0,ye.qj)({isSignedIn:!1,userMail:""});var os={name:"AddItemComp",components:{LoadingElement:ve},data(){return{state:ss,email:"",image:"",image2:"",image3:"",userId:"",tags:[],itemTags:[],haveBox:"No",particularities:"",addTagDialog:!1,missingFields:!1,successAddingItem:!1,itemBrand:"",itemCondition:"",itemName:"",itemSystem:"",purchasePrice:"",consoles:wi.C,brands:gi.Y,conditions:pi.y,yesNoResponses:fi.v,isLoading:!0,editItemId:"",editItem:{},isEditMode:!1}},mounted(){this.initializeFiltersFromQuery(),this.fetchUserData()},methods:{async initializeFiltersFromQuery(){const e=this.$route.query;e.userId&&(this.userId=e.userId),e.itemId&&(this.editItemId=e.itemId),this.isEditMode=""!==this.editItemId;try{this.editItem=await ht(this.userId,this.editItemId,"Accessories"),this.isEditMode&&this.editItem&&(this.itemBrand=this.editItem.Brand,this.itemModel=this.editItem.Model,this.serialNumber=this.editItem.serialNumber,this.itemCondition=this.editItem.State,this.itemName=this.editItem.Name,this.itemSystem=this.editItem.Console,this.purchasePrice=this.editItem.PurchasePrice,this.particularities=this.editItem.Particularities,this.haveBox=this.editItem.OriginalBox?"Yes":"No",this.haveAllAccessories=this.editItem.AllAccessories?"Yes":"No",this.itemTags=this.editItem.Tags,this.image=this.editItem.photoURL[0],this.image2=this.editItem.photoURL[1],this.image3=this.editItem.photoURL[2])}catch(t){console.error("Error fetching item: ",t)}},addItem(){if(""===this.newTag)return;const e=this.newTag;this.tags.push(e),this.newTag="",this.itemTags.push(e),this.addTagDialog=!1},async validate(){const e=(0,_e.ad)();if(""===this.image||""===this.itemBrand||""===this.itemCondition||""===this.haveBox||""===this.haveAllAccessories)return void(this.missingFields=!0);this.isLoading=!0;const t=Date.now(),i=(0,vi.Z)(),a=`${t}_${ki()(i)}`,s=this.userId,o=this.itemBrand?this.itemBrand:"Unavailable",l=this.itemSystem?this.itemSystem:"Unavailable",r=this.itemModel?this.itemModel:"Unavailable",n=this.itemName,d="Yes"===this.haveBox,c="Yes"===this.haveAllAccessories,m=this.itemCondition,u=this.particularities,h=this.purchasePrice,g=this.serialNumber?this.serialNumber:"Unavailable",p="Accessories",f=this.itemTags,w=new Date,v=[],y=(0,rt.cF)(),k=(0,rt.iH)(y,`Accessories/${this.userId}`),_=async e=>{if(e.startsWith("https://firebasestorage.googleapis.com/"))return e;const t=e=>{const t=/^\s*data:([a-z]+\/[a-z0-9-+.]+)?(;[a-z-]+=[a-z0-9-]+)*;base64,[a-z0-9+/]+={0,2}\s*$/i;return t.test(e)};if(!t(e))return console.error("Image is not a valid data URL"),null;const i=Date.now(),a=(0,rt.iH)(k,`${i}_${n}`);return await(0,rt.sf)(a,e,"data_url"),await(0,rt.Jt)(a)};try{this.image&&v.push(await _(this.image)),this.image2&&v.push(await _(this.image2)),this.image3&&v.push(await _(this.image3));const t={item_id:a,UserId:s,Brand:o,Console:l,Tags:f,Model:r,serialNumber:g,Name:n,OriginalBox:d,AllAccessories:c,State:m,Particularities:u,PurchasePrice:h,Type:p,AddDate:w,photoURL:v};if(this.isEditMode&&this.editItemId){const i=await(0,_e.PL)((0,_e.IO)((0,_e.hJ)(e,`${this.userId}_Accessories`),(0,_e.ar)("item_id","==",this.editItemId)));if(i.empty)console.error("No document to update with item_id: ",this.editItemId);else{const e=i.docs[0].ref;await(0,_e.r7)(e,t)}}else await(0,_e.ET)((0,_e.hJ)(e,`${this.userId}_Accessories`),t);const i=await(0,_e.PL)((0,_e.IO)((0,_e.hJ)(e,"User"),(0,_e.ar)("userId","==",this.userId)));i.forEach((async t=>{const i=t.id;await(0,_e.r7)((0,_e.JU)(e,"User",i),{userTag:this.tags})})),setTimeout((()=>{this.$router.push("/dashboard-accessories")}),2e3)}catch(b){console.error(b),this.errorAddingItem=!0}},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){const e=t.uid,i=(0,_e.ad)(),a=(0,_e.hJ)(i,"User"),s=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("userId","==",e)));s.forEach((e=>{const t=e.data();this.userId=t.userId,this.nickName=t.userName,this.tags=t.userTag,this.isLoading=!1}))}else console.error("No user connected")},goBack(){window.history.back()},removeFile(e){1===e?this.image="":2===e?this.image2="":3===e&&(this.image3="")},onDrop(e,t){t.stopPropagation(),t.preventDefault();var i=t.dataTransfer.files;this.createFile(i[0],e)},onChange(e,t){var i=t.target.files;this.createFile(i[0],e)},createFile(e,t){if(e.type.match("image.*")){var i=new FileReader,a=this;i.onload=function(e){1===t?a.image=e.target.result:2===t?a.image2=e.target.result:3===t&&(a.image3=e.target.result)},i.readAsDataURL(e)}else alert("Select an image")}},setup(){(0,s.bv)((()=>{as=(0,ke.v0)(),(0,ke.Aj)(as,(e=>{ss.isSignedIn=!!e,ss.userEmail=e?e.email:""}))}))}};const ls=(0,f.Z)(os,[["render",is],["__scopeId","data-v-781041e5"]]);var rs=ls;const ns=e=>((0,s.dD)("data-v-590a6d6d"),e=e(),(0,s.Cn)(),e),ds={class:"main"},cs={class:"actionBar"},ms={class:"leftAction"},us=ns((()=>(0,s._)("h2",null,"Your item collection",-1))),hs={class:"rightAction"},gs={class:"lastAddedDisplay"},ps={class:"lastAddedTitle"},fs={class:"itemCount"},ws={class:"lastAddedCardContainer"},vs={key:0},ys={key:1,class:"noLastItem"},ks=ns((()=>(0,s._)("p",null,"Your items will be displayed here",-1))),_s=[ks];function bs(e,t,i,a,o,l){const r=(0,s.up)("loading-element"),c=(0,s.up)("FilterBar"),m=(0,s.up)("SearchFilter"),u=(0,s.up)("DisplayCard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),(0,s._)("div",ds,[(0,s._)("div",cs,[(0,s._)("div",ms,[(0,s.Wm)(d.T,{onClick:l.goBack,color:"ghostPurple",icon:"mdi-arrow-left",class:"mr-4"},null,8,["onClick"]),us]),(0,s._)("div",hs,[(0,s.Wm)(d.T,{color:"ghostPurple",icon:"mdi-plus",to:"/additems"})])]),(0,s.Wm)(c,{tags:o.tags,page:"dashboard-items"},null,8,["tags"]),(0,s.Wm)(m,{page:"dashboard-items"}),(0,s._)("div",gs,[(0,s._)("p",ps,[(0,s.Uk)("Your items - "),(0,s._)("span",fs,(0,n.zw)(o.myItems.length),1),(0,s.Uk)(" item(s) found")]),(0,s._)("div",ws,[this.myItems.length>0?((0,s.wg)(),(0,s.iD)("div",vs,[(0,s.Wm)(Z.o,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.myItems,(e=>((0,s.wg)(),(0,s.j4)(H.D,{cols:"12",sm:"6",md:"4",lg:"3",key:e.id},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(u,{item:e,isGame:!1,isAccessory:!1,isItem:!0,page:"dashboard-items",userId:this.userId},null,8,["item","userId"])])])),_:2},1024)))),128))])),_:1})])):((0,s.wg)(),(0,s.iD)("div",ys,_s))])])])],64)}const Cs={class:"searchContainer"},Is={class:"searchbar"},xs={class:"searchInput"},Ds={class:"searchButton"};function Ws(e,t,i,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Cs,[(0,s._)("div",Is,[(0,s._)("div",xs,[(0,s.Wm)(Te.h,{modelValue:o.search,"onUpdate:modelValue":t[0]||(t[0]=e=>o.search=e),label:"Items, consoles or games","single-line":"","hide-details":"",variant:"outlined"},null,8,["modelValue"])]),(0,s._)("div",Ds,[(0,s.Wm)(d.T,{color:"ghostPurple",icon:"",onClick:l.searchItem},{default:(0,s.w5)((()=>[(0,s.Wm)(C.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])),_:1},8,["onClick"])])]),(0,s.Wm)(Z.o,{class:"filtersContainer"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",md:"6",lg:"3",class:"filter"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"6",class:"subfilter"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{modelValue:o.minPrice,"onUpdate:modelValue":t[1]||(t[1]=e=>o.minPrice=e),label:"Price (min)","single-line":"","hide-details":"","append-icon":"mdi-currency-eur",variant:"outlined",clearable:""},null,8,["modelValue"])])),_:1}),(0,s.Wm)(H.D,{cols:"6",class:"subfilter"},{default:(0,s.w5)((()=>[(0,s.Wm)(Te.h,{modelValue:o.maxPrice,"onUpdate:modelValue":t[2]||(t[2]=e=>o.maxPrice=e),label:"Price (max)","single-line":"","hide-details":"","append-icon":"mdi-currency-eur",variant:"outlined",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(H.D,{cols:"12",md:"6",lg:"3",class:"filter"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ze.rL,{label:"Tags",items:i.tags,modelValue:o.selectedTags,"onUpdate:modelValue":t[3]||(t[3]=e=>o.selectedTags=e),chips:"",multiple:"",variant:"outlined"},null,8,["items","modelValue"])])),_:1}),(0,s.Wm)(H.D,{cols:"12",md:"6",lg:"3",class:"filter"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ct.f,{label:"Console",items:o.consoles,modelValue:o.selectedConsole,"onUpdate:modelValue":t[4]||(t[4]=e=>o.selectedConsole=e),variant:"outlined",clearable:""},null,8,["items","modelValue"])])),_:1}),(0,s.Wm)(H.D,{cols:"12",md:"6",lg:"3",class:"filter"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ct.f,{label:"Condition",items:o.conditions,modelValue:o.selectedCondition,"onUpdate:modelValue":t[5]||(t[5]=e=>o.selectedCondition=e),variant:"outlined",clearable:""},null,8,["items","modelValue"])])),_:1}),(0,s.Wm)(H.D,{cols:"12",md:"6",lg:"3",class:"filter"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{color:"orange",onClick:l.clearFilters,size:"small",class:"clearButton"},{default:(0,s.w5)((()=>[(0,s.Uk)("Clear")])),_:1},8,["onClick"])])),_:1})])),_:1})])}var As={name:"FilterBar",props:{tags:Array,page:String},data(){return{search:"",minPrice:"",maxPrice:"",selectedTags:[],selectedConsole:"",selectedCondition:"",consoles:wi.C,conditions:pi.y}},mounted(){this.initializeFiltersFromQuery()},methods:{initializeFiltersFromQuery(){const e=this.$route.query;e.search&&(this.search=e.search),e.minPrice&&(this.minPrice=e.minPrice),e.maxPrice&&(this.maxPrice=e.maxPrice),e.tags&&(this.selectedTags=e.tags.split(",")),e.console&&(this.selectedConsole=e.console),e.conditions&&(this.selectedCondition=e.conditions)},searchItem(){if(""===this.search&&""===this.minPrice&&""===this.maxPrice&&0===this.selectedTags.length&&""===this.selectedConsole&&""===this.selectedCondition)return;const e={};this.search&&(e.search=this.search),this.minPrice&&(e.minPrice=this.minPrice),this.maxPrice&&(e.maxPrice=this.maxPrice),this.selectedTags.length>0&&(e.tags=this.selectedTags.join(",")),this.selectedConsole&&(e.console=this.selectedConsole),this.selectedCondition&&(e.conditions=this.selectedCondition),this.$router.push({path:"/"+this.page,query:e}).then((()=>{this.$router.go(0)}))},clearFilters(){this.search="",this.minPrice="",this.maxPrice="",this.selectedTags=[],this.selectedConsole="",this.selectedCondition="",this.$router.push({path:"/"+this.page}).then((()=>{this.$router.go(0)}))}}};const Ps=(0,f.Z)(As,[["render",Ws],["__scopeId","data-v-e29982c2"]]);var Us=Ps,Vs=i(7103);const Ts={class:"cardHeader"},Fs=["title"],Ss={class:"productInfos"},Es={key:0},Ns={key:1},Ls={key:2},Bs={class:"priceBox"},Ms={class:"mt-2"},js={key:0},Gs={class:"mb-4"};function Os(e,t,i,a,o,l){const r=(0,s.up)("LoadingElement");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),(0,s.Wm)($._,{class:"itemCard"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z.o,{class:"addItemRow"},{default:(0,s.w5)((()=>[(0,s.Wm)(H.D,{cols:"12",class:"coverColumn"},{default:(0,s.w5)((()=>[(0,s.Wm)(I.f,{class:"ItemsImages",height:"240",src:i.item.photoURL[0],cover:""},null,8,["src"])])),_:1}),(0,s.Wm)(H.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Ts,[(0,s._)("p",{class:"cardTitle",title:i.item.Name},[i.isGame?((0,s.wg)(),(0,s.j4)(C.t,{key:0,icon:"mdi-pac-man",class:"mr-1"})):i.isAccessory?((0,s.wg)(),(0,s.j4)(C.t,{key:1,icon:"mdi-video-input-scart",class:"mr-1"})):((0,s.wg)(),(0,s.j4)(C.t,{key:2,icon:"mdi-nintendo-game-boy",class:"mr-1"})),(0,s.Uk)(" "+(0,n.zw)(i.item.Name),1)],8,Fs)]),(0,s.Wm)(c.J,{class:"my-3",thickness:"3"}),(0,s._)("div",Ss,[i.isItem||i.isAccessory?((0,s.wg)(),(0,s.iD)("span",Es,[(0,s.Wm)(C.t,{icon:"mdi-alphabetical",class:"mr-1"}),(0,s.Uk)("Brand : "+(0,n.zw)(i.item.Brand?i.item.Brand:"Unavailable"),1)])):(0,s.kq)("",!0),i.isItem?((0,s.wg)(),(0,s.iD)("span",Ns,[(0,s.Wm)(C.t,{icon:"mdi-gamepad-variant",class:"mr-1"}),(0,s.Uk)("Model : "+(0,n.zw)(i.item.Model?i.item.Model:"Unavailable"),1)])):(0,s.kq)("",!0),(0,s._)("span",null,[(0,s.Wm)(C.t,{icon:"mdi-nintendo-switch",class:"mr-1"}),(0,s.Uk)("Console : "),(0,s._)("span",null,(0,n.zw)(i.item.Console),1)]),(0,s._)("span",null,[(0,s.Wm)(C.t,{icon:"mdi-dropbox",class:"mr-1"}),(0,s.Uk)("With Box : "),(0,s._)("span",{class:(0,n.C_)(i.item.OriginalBox?"greenBox":"redBox")},(0,n.zw)(i.item.OriginalBox?"Yes":"No"),3)]),(0,s._)("span",null,[(0,s.Wm)(C.t,{icon:"mdi-image-broken-variant",class:"mr-1"}),(0,s.Uk)("Condition : "+(0,n.zw)(i.item.State),1)]),i.isGame||i.isItem?((0,s.wg)(),(0,s.iD)("span",Ls,[(0,s.Wm)(C.t,{icon:"mdi-currency-usd",class:"mr-1"}),(0,s.Uk)("Price : "),(0,s._)("span",Bs,(0,n.zw)(i.item.PurchasePrice?i.item.PurchasePrice:"Unavailable")+" €",1)])):(0,s.kq)("",!0),(0,s._)("span",Ms,[(0,s.Wm)(C.t,{icon:"mdi-tag-outline",class:"mr-1"}),(0,s.Uk)("Tags : "),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.item.Tags,(e=>((0,s.wg)(),(0,s.iD)("span",{key:e,class:"mr-1"},[(0,s.Wm)(Vs.v,{color:"white","text-color":"white",small:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e),1)])),_:2},1024)])))),128)),i.item.Tags&&0!==i.item.Tags.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",js,[(0,s.Wm)(C.t,{icon:"mdi-cancel",class:"mr-1"}),(0,s.Uk)("No tags ")]))])]),(0,s.Wm)(Ae.h,{class:"flex justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{variant:"outlined",class:"editBtn",size:"small",onClick:l.editFunction},{default:(0,s.w5)((()=>[(0,s.Uk)(" Edit ")])),_:1},8,["onClick"]),(0,s.Wm)(d.T,{variant:"outlined",class:"deleteBtn",onClick:t[0]||(t[0]=e=>l.visible(!0)),size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Delete ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s._)("div",null,[(0,s._)("div",Gs,[(0,s.Wm)(H.D,{cols:"auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(Pe.B,{transition:"dialog-top-transition",class:"modalDialog",modelValue:o.showDeleteDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>o.showDeleteDialog=e)},{default:(0,s.w5)((({isActive:e})=>[(0,s.Wm)($._,null,{default:(0,s.w5)((()=>[(0,s._)("form",null,[(0,s.Wm)(Fe.i,{color:"red",class:"text-center",title:"Would you like to delete this item ?"}),(0,s.Wm)(J.Z,{class:"modalText"},{default:(0,s.w5)((()=>[(0,s._)("p",null,"Are you sure you want to delete "+(0,n.zw)(this.item.Name)+" ? This action is irreversible.",1)])),_:1}),(0,s.Wm)(Ae.h,{class:"justify-end"},{default:(0,s.w5)((()=>[(0,s.Wm)(d.T,{variant:"text",onClick:t=>e.value=!1},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:2},1032,["onClick"]),(0,s.Wm)(d.T,{variant:"elevated",color:"red",onClick:l.deleteFunction},{default:(0,s.w5)((()=>[(0,s.Uk)("Delete")])),_:1},8,["onClick"])])),_:2},1024)])])),_:2},1024)])),_:1},8,["modelValue"])])),_:1})])])],64)}var zs={name:"DisplayCard",components:{LoadingElement:ve},props:{item:Object,isItem:Boolean,isAccessory:Boolean,isGame:Boolean,page:String,userId:String},data(){return{isLoading:!1,showDeleteDialog:!1,area:""}},mounted(){this.isGame?this.area="Games":this.isAccessory?this.area="Accessories":this.area="Items"},methods:{visible(e){this.showDeleteDialog=e},async deleteFunction(){this.isLoading=!0;try{await ft(this.userId,this.item,this.area),await this.$router.push({path:"/"+this.page}),this.$router.go(0)}catch(e){console.error("Error deleting item: ",e)}},async editFunction(){this.isLoading=!0;try{const e={};e.userId=this.userId,e.itemId=this.item.item_id,this.$router.push({path:`/add${this.area.toLowerCase()}`,query:e}).then((()=>{this.$router.go(0)}))}catch(e){console.error("Error deleting item: ",e)}}}};const qs=(0,f.Z)(zs,[["render",Os],["__scopeId","data-v-0a7024bc"]]);var Rs=qs;const $s={class:"filterContainer"},Ys={class:"selector"};function Js(e,t,i,a,o,l){const r=(0,s.up)("LoadingElement");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),(0,s._)("div",$s,[(0,s._)("div",Ys,[(0,s.Wm)(Ze.rL,{label:"Sorting",items:o.searchFilters,modelValue:this.sortingFilter,"onUpdate:modelValue":[t[0]||(t[0]=e=>this.sortingFilter=e),l.onSortingFilterChange],variant:"outlined",clearable:""},null,8,["items","modelValue","onUpdate:modelValue"])])])],64)}var Zs=JSON.parse('{"u":["Alphabetical : A-Z","Price : Low to high","Price : High to low","Newest first","Oldest first"]}'),Hs={name:"SearchFilter",components:{LoadingElement:ve},props:{page:String},data(){return{searchFilters:Zs.u,sortingFilter:"",isLoading:!1}},mounted(){this.initializeFiltersFromQuery()},methods:{initializeFiltersFromQuery(){const e=this.$route.query;e.sortingFilter&&this.searchFilters.includes(e.sortingFilter)&&(this.sortingFilter=e.sortingFilter)},onSortingFilterChange(){this.isLoading=!0;const e={};this.sortingFilter&&(e.sortingFilter=this.sortingFilter),this.$router.push({path:"/"+this.page,query:e}).then((()=>{this.$router.go(0)}))}}};const Qs=(0,f.Z)(Hs,[["render",Js],["__scopeId","data-v-40f5ebc9"]]);var Ks=Qs;let Xs;const eo=(0,ye.qj)({isSignedIn:!1,userMail:""});var to={name:"HelloWorld",components:{LoadingElement:ve,FilterBar:Us,DisplayCard:Rs,SearchFilter:Ks},data(){return{state:eo,showDialog:!1,nickName:"",email:"",userId:"",isLoading:!0,myItems:[],tags:[],filters:{search:"",minPrice:"0",maxPrice:"10000",selectedTags:[],selectedConsole:"",selectedCondition:"",sortingFilter:""}}},mounted(){this.initializeFiltersFromQuery(),this.fetchUserData()},methods:{initializeFiltersFromQuery(){const e=this.$route.query;e.search&&(this.search=e.search,this.filters.search=this.search),e.minPrice&&(this.minPrice=e.minPrice,this.filters.minPrice=this.minPrice),e.maxPrice&&(this.maxPrice=e.maxPrice,this.filters.maxPrice=this.maxPrice),e.tags&&(this.selectedTags=e.tags.split(","),this.filters.selectedTags=this.selectedTags),e.conditions&&(this.selectedCondition=e.conditions,this.filters.selectedCondition=this.selectedCondition),e.console&&(this.selectedConsole=e.console,this.filters.selectedConsole=this.selectedConsole),e.sortingFilter&&(this.sortingFilter=e.sortingFilter,this.filters.sortingFilter=this.sortingFilter)},handleSignout(){(0,ke.w7)(Xs).then((()=>{this.$router.push("/login")})).catch((e=>{console.error(e)}))},goBack(){window.history.back()},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){this.userId=t.uid;try{const e=await mt(this.userId);this.nickName=e.nickname,this.tags=e.tags}catch(i){console.error("Error getting user informations:",i)}try{const e=await ut(this.userId,this.filters,"Items");this.myItems=e,void 0!==this.myItems.length&&(this.isLoading=!1)}catch(i){console.error("Error getting user items:",i)}}else console.error("No user connected")}},setup(){(0,s.bv)((()=>{Xs=(0,ke.v0)(),(0,ke.Aj)(Xs,(e=>{eo.isSignedIn=!!e,eo.userEmail=e?e.email:""}))}))}};const io=(0,f.Z)(to,[["render",bs],["__scopeId","data-v-590a6d6d"]]);var ao=io;const so=e=>((0,s.dD)("data-v-c94cd290"),e=e(),(0,s.Cn)(),e),oo={class:"main"},lo={class:"actionBar"},ro={class:"leftAction"},no=so((()=>(0,s._)("h2",null,"Your accessories",-1))),co={class:"rightAction"},mo={class:"lastAddedDisplay"},uo={class:"lastAddedTitle"},ho={class:"itemCount"},go={class:"lastAddedCardContainer"},po={key:0},fo={key:1,class:"noLastItem"},wo=so((()=>(0,s._)("p",null,"Your accessories will be displayed here",-1))),vo=[wo];function yo(e,t,i,a,o,l){const r=(0,s.up)("loading-element"),c=(0,s.up)("FilterBar"),m=(0,s.up)("SearchFilter"),u=(0,s.up)("DisplayCard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),(0,s._)("div",oo,[(0,s._)("div",lo,[(0,s._)("div",ro,[(0,s.Wm)(d.T,{onClick:l.goBack,color:"ghostPurple",icon:"mdi-arrow-left",class:"mr-4"},null,8,["onClick"]),no]),(0,s._)("div",co,[(0,s.Wm)(d.T,{color:"ghostPurple",icon:"mdi-plus",to:"/addaccessories"})])]),(0,s.Wm)(c,{tags:o.tags,page:"dashboard-accessories"},null,8,["tags"]),(0,s.Wm)(m,{page:"dashboard-accessories"}),(0,s._)("div",mo,[(0,s._)("p",uo,[(0,s.Uk)("Your accessories - "),(0,s._)("span",ho,(0,n.zw)(o.myItems.length),1),(0,s.Uk)(" item(s) found")]),(0,s._)("div",go,[this.myItems.length>0?((0,s.wg)(),(0,s.iD)("div",po,[(0,s.Wm)(Z.o,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.myItems,(e=>((0,s.wg)(),(0,s.j4)(H.D,{cols:"12",sm:"6",md:"4",lg:"3",key:e.id},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(u,{item:e,isGame:!1,isAccessory:!0,isItem:!1,page:"dashboard-accessories",userId:this.userId},null,8,["item","userId"])])])),_:2},1024)))),128))])),_:1})])):((0,s.wg)(),(0,s.iD)("div",fo,vo))])])])],64)}let ko;const _o=(0,ye.qj)({isSignedIn:!1,userMail:""});var bo={name:"MyAccessoriesCollectionComp",components:{LoadingElement:ve,FilterBar:Us,DisplayCard:Rs,SearchFilter:Ks},data(){return{state:_o,nickName:"",email:"",userId:"",isLoading:!0,myItems:[],tags:[],filters:{search:"",minPrice:"0",maxPrice:"10000",selectedTags:[],selectedConsole:"",selectedCondition:"",sortingFilter:""}}},mounted(){this.initializeFiltersFromQuery(),this.fetchUserData()},methods:{initializeFiltersFromQuery(){const e=this.$route.query;e.search&&(this.search=e.search,this.filters.search=this.search),e.minPrice&&(this.minPrice=e.minPrice,this.filters.minPrice=this.minPrice),e.maxPrice&&(this.maxPrice=e.maxPrice,this.filters.maxPrice=this.maxPrice),e.tags&&(this.selectedTags=e.tags.split(","),this.filters.selectedTags=this.selectedTags),e.conditions&&(this.selectedCondition=e.conditions,this.filters.selectedCondition=this.selectedCondition),e.console&&(this.selectedConsole=e.console,this.filters.selectedConsole=this.selectedConsole),e.sortingFilter&&(this.sortingFilter=e.sortingFilter,this.filters.sortingFilter=this.sortingFilter)},handleSignout(){(0,ke.w7)(ko).then((()=>{this.$router.push("/login")})).catch((e=>{console.error(e)}))},goBack(){window.history.back()},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){this.userId=t.uid;try{const e=await mt(this.userId);this.nickName=e.nickname,this.tags=e.tags}catch(i){console.error("Error getting user informations:",i)}try{const e=await ut(this.userId,this.filters,"Accessories");this.myItems=e,void 0!==this.myItems.length&&(this.isLoading=!1)}catch(i){console.error("Error getting user items:",i)}}else console.error("No user connected")}},setup(){(0,s.bv)((()=>{ko=(0,ke.v0)(),(0,ke.Aj)(ko,(e=>{_o.isSignedIn=!!e,_o.userEmail=e?e.email:""}))}))}};const Co=(0,f.Z)(bo,[["render",yo],["__scopeId","data-v-c94cd290"]]);var Io=Co;const xo=e=>((0,s.dD)("data-v-0fc2f00c"),e=e(),(0,s.Cn)(),e),Do={class:"main"},Wo={class:"actionBar"},Ao={class:"leftAction"},Po=xo((()=>(0,s._)("h2",null,"Your game collection",-1))),Uo={class:"rightAction"},Vo={class:"lastAddedDisplay"},To={class:"lastAddedTitle"},Fo={class:"itemCount"},So={class:"lastAddedCardContainer"},Eo={key:0},No={key:1,class:"noLastItem"},Lo=xo((()=>(0,s._)("p",null,"Your games will be displayed here",-1))),Bo=[Lo];function Mo(e,t,i,a,o,l){const r=(0,s.up)("loading-element"),c=(0,s.up)("FilterBar"),m=(0,s.up)("SearchFilter"),u=(0,s.up)("DisplayCard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),(0,s._)("div",Do,[(0,s._)("div",Wo,[(0,s._)("div",Ao,[(0,s.Wm)(d.T,{onClick:l.goBack,color:"ghostPurple",icon:"mdi-arrow-left",class:"mr-4"},null,8,["onClick"]),Po]),(0,s._)("div",Uo,[(0,s.Wm)(d.T,{color:"ghostPurple",icon:"mdi-plus",to:"/addgames"})])]),(0,s.Wm)(c,{tags:o.tags,page:"dashboard-games"},null,8,["tags"]),(0,s.Wm)(m,{page:"dashboard-games"}),(0,s._)("div",Vo,[(0,s._)("p",To,[(0,s.Uk)("Your games - "),(0,s._)("span",Fo,(0,n.zw)(o.myItems.length),1),(0,s.Uk)(" item(s) found")]),(0,s._)("div",So,[this.myItems.length>0?((0,s.wg)(),(0,s.iD)("div",Eo,[(0,s.Wm)(Z.o,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.myItems,(e=>((0,s.wg)(),(0,s.j4)(H.D,{cols:"12",sm:"6",md:"4",lg:"3",key:e.id},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(u,{item:e,isGame:!0,isAccessory:!1,isItem:!1,page:"dashboard-games",userId:this.userId},null,8,["item","userId"])])])),_:2},1024)))),128))])),_:1})])):((0,s.wg)(),(0,s.iD)("div",No,Bo))])])])],64)}let jo;const Go=(0,ye.qj)({isSignedIn:!1,userMail:""});var Oo={name:"MyGameCollectionComp",components:{LoadingElement:ve,FilterBar:Us,DisplayCard:Rs,SearchFilter:Ks},data(){return{state:Go,visible:!0,nickName:"",email:"",userId:"",isLoading:!0,myItems:[],tags:[],filters:{search:"",minPrice:"0",maxPrice:"10000",selectedTags:[],selectedConsole:"",selectedCondition:"",sortingFilter:""}}},mounted(){this.initializeFiltersFromQuery(),this.fetchUserData()},methods:{initializeFiltersFromQuery(){const e=this.$route.query;e.search&&(this.search=e.search,this.filters.search=this.search),e.minPrice&&(this.minPrice=e.minPrice,this.filters.minPrice=this.minPrice),e.maxPrice&&(this.maxPrice=e.maxPrice,this.filters.maxPrice=this.maxPrice),e.tags&&(this.selectedTags=e.tags.split(","),this.filters.selectedTags=this.selectedTags),e.conditions&&(this.selectedCondition=e.conditions,this.filters.selectedCondition=this.selectedCondition),e.console&&(this.selectedConsole=e.console,this.filters.selectedConsole=this.selectedConsole),e.sortingFilter&&(this.sortingFilter=e.sortingFilter,this.filters.sortingFilter=this.sortingFilter)},handleSignout(){(0,ke.w7)(jo).then((()=>{this.$router.push("/login")})).catch((e=>{console.error(e)}))},goBack(){window.history.back()},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){this.userId=t.uid;try{const e=await mt(this.userId);this.nickName=e.nickname,this.tags=e.tags}catch(i){console.error("Error getting user informations:",i)}try{const e=await ut(this.userId,this.filters,"Games");this.myItems=e,void 0!==this.myItems.length&&(this.isLoading=!1)}catch(i){console.error("Error getting user games:",i)}}else console.error("No user connected")}},setup(){(0,s.bv)((()=>{jo=(0,ke.v0)(),(0,ke.Aj)(jo,(e=>{Go.isSignedIn=!!e,Go.userEmail=e?e.email:""}))}))}};const zo=(0,f.Z)(Oo,[["render",Mo],["__scopeId","data-v-0fc2f00c"]]);var qo=zo;const Ro=e=>((0,s.dD)("data-v-dbf1d284"),e=e(),(0,s.Cn)(),e),$o={class:"main"},Yo={class:"actionBar"},Jo={class:"lastAddedDisplay"},Zo=Ro((()=>(0,s._)("p",{class:"lastAddedTitle"},"Last Added Items",-1))),Ho={class:"lastAddedCardContainer"};function Qo(e,t,i,a,o,l){const r=(0,s.up)("loading-element");return(0,s.wg)(),(0,s.iD)(s.HY,null,[o.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),(0,s._)("div",$o,[(0,s._)("div",Yo,[(0,s._)("h2",null,"Hello "+(0,n.zw)(o.nickName),1),o.state.isSignedIn?((0,s.wg)(),(0,s.j4)(d.T,{key:0,onClick:l.handleSignout,color:"ghostPurple",icon:"mdi-power"},null,8,["onClick"])):(0,s.kq)("",!0)]),(0,s._)("div",Jo,[Zo,(0,s._)("div",Ho,[this.menus.length>0?((0,s.wg)(),(0,s.j4)(Z.o,{key:0,class:"lastAddedColumn"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.menus,(e=>((0,s.wg)(),(0,s.j4)(H.D,{key:e.id,cols:"12",sm:"6",md:"4"},{default:(0,s.w5)((()=>[(0,s.Wm)($._,{class:"Collection",color:"ghostPurple",to:e.route},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.name),1)])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1})):(0,s.kq)("",!0)])])])],64)}let Ko;const Xo=(0,ye.qj)({isSignedIn:!1,userMail:""});var el={name:"HelloWorld",components:{LoadingElement:ve},data(){return{state:Xo,nickName:"",email:"",userId:"",isLoading:!0,lastAddedItems:[],menus:[{name:"Consoles",route:"/dashboard-items"},{name:"Games",route:"/dashboard-games"},{name:"Accessories",route:"/dashboard-accessories"}]}},mounted(){this.fetchUserData()},methods:{handleSignout(){(0,ke.w7)(Ko).then((()=>{this.$router.push("/login")})).catch((e=>{console.error(e)}))},async fetchUserData(){const e=(0,ke.v0)(),t=e.currentUser;if(t){const e=t.uid,i=(0,_e.ad)(),a=(0,_e.hJ)(i,"User"),s=await(0,_e.PL)((0,_e.IO)(a,(0,_e.ar)("userId","==",e)));s.forEach((e=>{const t=e.data();this.nickName=t.userName,this.isLoading=!1}))}}},setup(){(0,s.bv)((()=>{Ko=(0,ke.v0)(),(0,ke.Aj)(Ko,(e=>{Xo.isSignedIn=!!e,Xo.userEmail=e?e.email:""}))}))}};const tl=(0,f.Z)(el,[["render",Qo],["__scopeId","data-v-dbf1d284"]]);var il=tl,al=i(302);const sl={apiKey:"AIzaSyCJ1BwXUBe4_itvJviVZwuqOzhDz3J43mE",authDomain:"gamedash-27ea0.firebaseapp.com",projectId:"gamedash-27ea0",storageBucket:"gamedash-27ea0.appspot.com",messagingSenderId:"318785995771",appId:"1:318785995771:web:b66d8b3e2d2c46e497415e",measurementId:"G-46LGEEZCZG"};(0,nt.ZF)(sl),q();const ol=[{path:"/",component:De,meta:{requiresAuth:!0}},{path:"/login",component:Oe},{path:"/register",component:Je},{path:"/profile",component:bt,meta:{requiresAuth:!0}},{path:"/additems",component:xi,meta:{requiresAuth:!0}},{path:"/dashboard",component:il,meta:{requiresAuth:!0}},{path:"/addgames",component:fa,meta:{requiresAuth:!0}},{path:"/dashboard",component:il,meta:{requiresAuth:!0}},{path:"/dashboard-games",component:qo,meta:{requiresAuth:!0}},{path:"/dashboard-items",component:ao,meta:{requiresAuth:!0}},{path:"/dashboard-accessories",component:Io,meta:{requiresAuth:!0}},{path:"/addaccessories",component:rs,meta:{requiresAuth:!0}}],ll=()=>new Promise(((e,t)=>{const i=(0,ke.Aj)((0,ke.v0)(),(t=>{i(),e(t)}),t)})),rl=(0,al.p7)({history:(0,al.PO)(),routes:ol});rl.beforeEach((async(e,t,i)=>{e.matched.some((e=>e.meta.requiresAuth))?await ll()?i():i({path:"/login"}):"/register"!==e.path&&"/login"!==e.path||!await ll()?i():i({path:"/"})})),(0,a.ri)(G).use(z).use(rl).mount("#app")}},t={};function i(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(t,a,s,o){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],o=e[c][2];for(var r=!0,n=0;n<a.length;n++)(!1&o||l>=o)&&Object.keys(i.O).every((function(e){return i.O[e](a[n])}))?a.splice(n--,1):(r=!1,o<l&&(l=o));if(r){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,s,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};i.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var o=Object.create(null);i.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var r=2&s&&a;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){l[e]=function(){return a[e]}}));return l["default"]=function(){return a},i.d(o,l),o}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,a){return i.f[a](e,t),t}),[]))}}(),function(){i.u=function(e){return"js/webfontloader.7a4a1930.js"}}(),function(){i.miniCssF=function(e){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="game-dash:";i.l=function(a,s,o,l){if(e[a])e[a].push(s);else{var r,n;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var m=d[c];if(m.getAttribute("src")==a||m.getAttribute("data-webpack")==t+o){r=m;break}}r||(n=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",t+o),r.src=a),e[a]=[s];var u=function(t,i){r.onerror=r.onload=null,clearTimeout(h);var s=e[a];if(delete e[a],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach((function(e){return e(i)})),t)return t(i)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),n&&document.head.appendChild(r)}}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var e={143:0};i.f.j=function(t,a){var s=i.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var o=new Promise((function(i,a){s=e[t]=[i,a]}));a.push(s[2]=o);var l=i.p+i.u(t),r=new Error,n=function(a){if(i.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var o=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",r.name="ChunkLoadError",r.type=o,r.request=l,s[1](r)}};i.l(l,n,"chunk-"+t,t)}},i.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,l=a[0],r=a[1],n=a[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(s in r)i.o(r,s)&&(i.m[s]=r[s]);if(n)var c=n(i)}for(t&&t(a);d<l.length;d++)o=l[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},a=self["webpackChunkgame_dash"]=self["webpackChunkgame_dash"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(9436)}));a=i.O(a)})();
//# sourceMappingURL=app.73567e4c.js.map